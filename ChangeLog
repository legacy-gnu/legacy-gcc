Tue Mar 24 04:00:00 1992  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* Version 2.1 released.

	* xcoffout.h: Renamed from xcoff.h.
	* dbxout.c, final.c, toplev.c, varasm.c, xcoffout.c: Use new name.
	* Makefile.in: Corresponding changes.

	* dbxout.c (dbxout_type): Don't check DECL_IGNORED_P.

	* t-rs6000: Complete replacement, to build collect2 properly.

	* Makefile.in (mostlyclean): Delete sorted indices that aren't used.
	(extraclean): Delete patch outputs, *.d, *.Z, *.tar.

	* Makefile.dos (getpwd.o): New target.
	(OBJS, protoize, unprotoize): Add getpwd.o.
	(SYSCALLS.c, SYSCALLS.c.X): Copy from Makefile.in.

	* x-i386sco (CCLIBFLAGS): Define as empty.

Tue Mar 24 06:26:26 1992  Richard Kenner  (kenner at vlsi1.ultra.nyu.edu)

        * cse.c (cse_insn): When deleting dead code after
        making unconditional branch, check for end of chain.

	* sched.c (update_flow_info): Add code for REG_LABEL case.

	* function.c (instantiate_virtual_regs_1): Don't modify a MEM
	without copying it unless the modified MEM is valid.

	* cse.c (rtx_cost): Assign ASM_OPERANDS a high cost.

Tue Mar 24 05:48:25 1992  Ken Raeburn  (raeburn@wombat.gnu.ai.mit.edu)

	* cp-*: Disabled 22 March changes relating to dbxout.c; the problem
	will be fixed properly, with more extensive reworking of the C++
	front end, later.  This fix was buggy.
	* dbxout.c (dbxout_type_methods): Reverted 22 March changes; if a
	template class is passed, print a warning message and emit no info
	about methods.

Mon Mar 23 14:18:30 1992    (Eric Youngdale at youngdale@v6550c.nrl.navy.mil)

	* make-cc1.com: Add getpwd.c.

Mon Mar 23 12:53:02 1992  Jyrki Kuoppala  (jkp@batman.cs.hut.fi)

	* pc532-min.h (HAVE_ATEXIT): Defined.

	* ns32k.c (print_operand) [PC_RELATIVE]:
	Always use output_address for MEM.

	* pc532.h (BASE_REG_NEEDED): Defined.

Mon Mar 23 07:28:14 1992  Richard Kenner  (kenner at vlsi1.ultra.nyu.edu)

	* combine.c (try_combine): Correct error in last change; don't
	pass STRICT_LOW_PART or ZERO_EXTRACT to reg_overlap_mentioned_p.

	* sun3.h (CPP_SPEC): Delete extra brace.

Mon Mar 23 02:43:56 1992  Michael Tiemann  (tiemann@mole.gnu.ai.mit.edu)

	* cp-decl.c (pop_from_top_level): Take care of C_C_D.

Sun Mar 22 17:24:09 1992  Torbjorn Granlund  (tege@hal.gnu.ai.mit.edu)

	* pyr.h: Remove TARGET_INDEX.  Update other TARGET switches.
	Fix several comments.
	(REGNO_OK_FOR_BASE_P): Allow reg 0.
	(REGNO_OK_FOR_INDEX_P): Reformulate.
	(REG_OK_FOR_INDEX_P): Disallow reg 0.

Sun Mar 22 15:10:49 1992  Michael Meissner  (meissner@osf.org)

	* mips-tfile.c (mark_stabs): Make function defintion agree with
	prototype.

	* mips.md (cpu, branch_likely attributes): Make these attributes
	const.
	(all functional units): Restore functional units that look at the
	-mcpu= switch for scheduling now that genattrtab uses less memory.

Sun Mar 22 13:57:51 1992  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* c-typeck.c (convert_for_assignment):
	Only explicit 0 converts to pointer.

	* Makefile.in (doc): Don't depend on gplus.info.
	(gplus.info): Target deleted.

	* c-decl.c (store_parm_decls): Call build_type_copy with just one arg.

	* cccp.c (do_include): Use entire filename when checking for repeat.
	Use lookup_include.
	(lookup_include): New function.

	* protoize.c (find_extern_def): Store ??? one char at a time.

	* sparc.h (ASM_OUTPUT_FLOAT): Fix typo.

	* fold-const.c (operand_equal_p): Reject NaNs and infinities.

	* varasm.c (immed_real_const): Distinguish minus zero from zero.

	* sparc.h (ASM_OUTPUT_DOUBLE, ASM_OUTPUT_FLOAT):
	Use `inf' for infinities.  Use hex for minus-zero.

	* objc-actions.c (build_selector_translation_table):
	Don't make a duplicate decl here for _OBJC_SELECTOR_REFERENCES.
	Just call finish_decl to store the initial value.
	Call push_obstack_nochange to balance with finish_decl.
	Use selector_type for declaring individual selector names.

Sun Mar 22 13:11:32 1992  Richard Kenner  (kenner at vlsi1.ultra.nyu.edu)

	* loop.c (update_giv_derive): Correctly handle the case where
	more than one biv update occurs after a giv is defined.

	* cse.c (rehash_using_reg): Add missing arg to call to exp_equiv_p.

	* expmed.c (expand_mult_add): Add missing arg to call to type_for_mode.

	* reorg.c (fill_slots_from_thread): In the case where have a reg-reg
	copy and will substitute our destination for our source in the
	following insn, correctly check for it modifying our destination.
	
Sun Mar 22 09:20:16 1992  Michael Tiemann  (tiemann@cygnus.com)

	* cp-typeck.c (unary_complex_lvalue): Don't complain about taking
	the ``address'' of a bound static method or member.

	* cp-init.c (resolve_offset_ref): Fix bug in handling of static
	members and member functions.

	* cp-decl2.c (finish_file): If CURRENT_CLASS_TYPE is non-NULL on
	entry to this function, punt.

	* cp-parse.y (template_parm): Use CLASS_TYPE_NODE instead of
	CLASS_TYPE value.

	* cp-cvt.c (build_type_conversion): Add another add-hoc rule to find
	unsigned->int conversion (if conversion to long does not exist).

	* cp-method.c (build_overload_name): Don't call `array_type_nelts'
	if the TYPE_DOMAIN of an array type is NULL_TREE.

	* cp-init.c (build_offset_ref): Set up and use DECL even in case
	where NAME resolves to a method.

	* cp-call.c (ideal_candidate): Half of Jan 28 change was missing.
	Now PARMS are not converted in place if BASETYPE is NULL.

	* cp-typeck.c (build_component_ref): Don't return a TYPE_DECL.

	* cp-type2.c (build_functional_cast): If CURRENT_FUNCTION_DECL is
	NULL, don't wrap EXPR_AS_CTOR in a NEW_EXPR.  This make it possible
	to parse default initializers that involve constructor calls.
	* cp-typeck.c (convert_for_initialization): Handle this change.
	* cp-method.c (dump_init): Grok INDIRECT_REFs that have
	TREE_HAS_CONSTRUCTOR set.

	* cp-decl.c (push_overloaded_decl): Don't use the
	DECL_ASSEMBLER_NAME for GLOB as the TREE_PURPOSE of the new GLOB.
	Use ORIG_NAME instead.

	* cp-decl.c (grokvardecl): If FIELD has incomplete type, complete it
	with TYPE.

	* cp-decl2.c (flag_this_is_variable): Define the value -2 to mean an
	object of known type is being constructed.
	* cp-decl.c (resolves_to_fixed_type_p): Test FLAG_THIS_IS_VARIABLE
	for the value -2 instead of testing DECL_CONSTRUCTOR_P in case we
	are looking at `current_class_decl'.
	* cp-search.c (init_vbase_pointers): Set FLAG_THIS_IS_VARIABLE to -2
	instead of 0.
	(build_vbase_vtables_init): Ditto.
	* cp-*.c: All tests of FLAG_THIS_IS_VARIABLE changed to reflect the
	new semantics.

	* cp-typeck.c (comptypes): Don't use IS_AGGR_TYPE_2; test explicitly
	that both are RECORD_TYPE.
	(build_binary_op_nodefault): Ditto.
	(convert_for_assignment): Ditto.
	* cp-cvt.c (convert_to_pointer): Ditto.
	(convert_to_pointer_force): Ditto.
	* cp-call.c (convert_harshness): Ditto.

	* cp-search.c (get_first_matching_virtual): Fix typo.

	* cp-tree.c (layout_basetypes): When warning about certain
	inheritance relationships, only print "virtual" when the
	inheritance is virtual.

Sun Mar 22 01:28:41 1992  Ken Raeburn  (Raeburn@Cygnus.COM)

	Fix dbx info for methods of template classes:
	* cp-decl.c (make_type_decl): New function.  Creates a TYPE_DECL
	node and assigns as its DECL_ASSEMBLER_NAME the encoded form of the
	type name as it will be used in assembler output.  All calls to
	build_decl(TYPE_DECL,...) changed to call this.
	* dbxout.c (dbxout_type_methods): Instead of skipping digits and
	assuming the human-readable type name follows in the assembler names
	for methods, use DECL_ASSEMBLER_NAME of the type.
	Handle the special DECL_NAME that is made for templates.
	* cp-lex.c (build_lang_field_decl): Set DECL_ASSEMBLER_NAME
	correctly if new decl is a TYPE_DECL.
	(build_lang_decl): Ditto.
	* cp-decl.c (pushdecl): Use DECL_ASSEMBLER_NAME only for
	FUNCTION_DECL and VAR_DECL nodes; all others use DECL_NAME.
	* cp-tree.h (make_type_decl): Declare it.

	* cp-pt.c (overload_template_name, undo_template_name_overload):
	Revert 4 March change.

	* cp-decl2.c: No longer define NEW_OVERLOAD_SCHEME.
	(grokfield): Use new encoding scheme always.

	* cp-pt.c (overload_template_name): Deleted extra assignment to
	IDENTIFIER_LOCAL_VALUE slot.

	* cp-method.c (dump_aggr_type): Use DECL_CONTEXT rather than
	DECL_CLASS_CONTEXT.

	* cp-pt.c (instantiate_class_template): Move some common code from
	two branches to before branch point.

	* cp-method.c (dump_aggr_type): Don't discard last character of
	context string; it's not whitespace.

Sun Mar 22 15:58:48 1992  Per Bothner  (bothner@rtl.cygnus.com)

	* cp-tree.h: Add more enum->int casts needed by some compilers.

Sun Mar 22 20:40:25 1992  Mike Stump  (mrs@cygnus.com)

	* cp-typeck.c (build_modify_expr): Handle preincrement and
	predecrement as valid lvals.

	* gplus.gperf: Finish off changing ASM to ASM_KEYWORD.
	* cp-hash.h: Rebuilt.

	* cp-type2.c (build_functional_cast): remove incorrect error message.

Sat Mar 21 15:43:04 1992  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* c-typeck.c (build_c_cast): Don't warn if convert explicit 0 to ptr.

	* local-alloc.c (wipe_dead_reg): If insn has multiple sets and
	the reg appears in a destination, extend life to end of insn.
	* global-alloc.c (global_conflicts): Analogous change.
	(mark_reg_conflicts): New function.
	* combine.c (try_combine): If I2 has multiple dests, make sure
	we don't change one of them to overlap anything used within another.

	* configure (pyramid): Commented out.

	* toplev.c (main): Handle -gen-aux-info, with argument.
	(compile_file): Assume aux_info_file_name already computed.
	Don't make it local here.
	* protoize.c (munge_compile_params): Produce -aux-info.
	Set aux_info_file_name_index.
	(gen_aux_info_file): Produce and store the aux-info file name.
	(input_file_name_index): Renamed from filename_index.
	(aux_info_file_name_index): New var.
	* Makefile.in (SYSCALLS.c.X): Use -aux-info.
	* gcc.c, hp800.h, next.h, sparc.h, sun2.h, sun3.h, svr4.h:
	(WORD_SWITCH_TAKES_ARG): Handle -aux-info.
	* gcc.c (default_compilers): Pass -aux-info to cc1*.

	* configure (mips-*-sysv*): Renamed from mips-*-sysv and moved down.

	* gcc.c (execute): Undo Mar 12 change.

	* configure (i386-*-bsd*): New alternative.
	* i386bsd.h: New file.

Sat Mar 21 15:14:08 1992  Ron Guilmette  (rfg at ncd.com)

	* sparc.c (output_move_double):  Check for XEXP (op2, 0) being a
	LOW_SUM, rather than checking op2.  Handle both ldd and std there.

Sat  Mar 21 14:14:10 1992    (Eric Youngdale at youngdale@v6550c.nrl.navy.mil)

	* vms.h (CPP_PREDEFINES): Do not define __GNU__.

Sat Mar 21 21:35:37 1992  Jyrki Kuoppala  (jkp@batman.cs.hut.fi)

	* ns32k.md (call_value): Added a missing "{".

	* ns32k.c (print_operand): Fixed typo X -> x, FILE -> file.

Sat Mar 21 11:11:04 1992  Michael Meissner  (meissner@osf.org)

	* mips.h (MIPS_VERSION): Bump Meissner version # to 14.
	(CPP_PREDEFINES): Always define SYSTYPE_BSD43.
	(CPP_SPEC): Don't define it here.
	(ASM_SPEC): Pass -cpp/-nocpp/-mips1/-mips2/-mips3 to MIPS assembler,
	and only pass -nocpp by default unless .s files are assembled for
	MIPS compatibility.
	(LINK_SPEC): Pass -mips1/-mips2/-mips3 to MIPS linker.
	(MD_STARTFILE_PREFIX): Define to be /usr/lib/cmplrs/cc/ if not
	already defined.
	(NM_FLAGS): Define as appropriate for most MIPS systems.
	(PREFERRED_DEBUGGING_TYPE): If -ggdb prefer stabs over the normal
	ECOFF debug format, but -g selects ECOFF.
	(DEFAULT_GDB_EXTENSIONS): Define as 1.
	(DOLLARS_IN_IDENTIFIERS): Don't define if already defined.

	* mips.c (mips_output_filename): If emitting encapsulated stabs,
	emit #@stabs immediately after the first .file, so that the @stabs
	is the second symbol.  GDB 4.4 only checks symbol #2 to see whether
	it is encapsulated stabs, or ECOFF.

	* mips.md (subdi define_splits): Use ltu instead of lt.
	(branch_zero_true): Generate correct code when not optimizing, and
	an always true/false branch is generated.
	(branch_zero_false): Ditto.

	* mips-bsd.h (CPP_PREDEFINES): Always define SYSTYPE_BSD43.
	(CPP_SPEC): Don't define it here.  Remove -Z{BSD43,SYSV} support.
	Don't pass -I in here.
	(SYSTEM_INCLUDE_DIR): Define to be /bsd43/usr/include.
	(LINK_SPEC): Pass -mips1/-mips2/-mips3 to the linker.  Remove
	-Z{BSD43,SYSV} support.  Always pass -systype /bsd43/ to the linker.

	* mips-sysv.h (CPP_PREDEFINES): Always define SYSTYPE_SYSV.
	(CPP_SPEC): Don't define it here.  Remove -Z{BSD43,SYSV} support.
	Don't pass -I in here.
	(SYSTEM_INCLUDE_DIR): Define to be /sysv/usr/include.
	(LINK_SPEC): Pass -mips1/-mips2/-mips3 to the linker.  Remove
	-Z{BSD43,SYSV} support.  Always pass -systype /sysv/ to the linker.
	(MD_STARTFILE_PREFIX): Remove, this is now defined in mips.h.

	* mips-news.h (CPP_SPEC): Don't pass -I in here.
	(SYSTEM_INCLUDE_DIR): Define to be /usr/include2.0.
	(ASM_SPEC): Pass -cpp/-nocpp/-mips1/-mips2/-mips3 to MIPS assembler,
	and only pass -nocpp by default unless .s files are assembled for
	MIPS compatibility.
	(LINK_SPEC): Pass -mips1/-mips2/-mips3 to the linker.

	* mips-news5.h (CPP_PREDEFINES): Define SYSTYPE_SYSV.
	(CPP_SPEC): Don't define it here.  Remove -Z{BSD43,SYSV} support.
	Don't pass -I here.
	(LINK_SPEC): Pass -mips1/-mips2/-mips3 to the linker.

	* iris.h (ASM_SPEC): Pass -cpp/-nocpp/-mips1/-mips2/-mips3 to MIPS
	assembler, and only pass -nocpp by default unless .s files are
	assembled for MIPS compatibility.
	(LINK_SPEC): Pass -mips1/-mips2/-mips3 to the linker.

	* iris.h (DOLLARS_IN_IDENTIFIERS): Define as 0, for iris assembler.
	(NO_DOLLAR_IN_LABEL): Define, to force static constructors to use a
	period instead of a dollar sign.

	* decstatn.h (ASM_SPEC): Pass -cpp/-nocpp/-mips1/-mips2/-mips3 to
	MIPS assembler, and only pass -nocpp by default unless .s files are
	assembled for MIPS compatibility.
	(LINK_SPEC): Pass -mips1/-mips2/-mips3 to the MIPS linker.

	* decsrose.h (ASM_SPEC): Pass -cpp/-nocpp/-mips1/-mips2/-mips3 to
	MIPS assembler, and only pass -nocpp by default unless .s files are
	assembled for MIPS compatibility.
	(LINK_SPEC): Pass -mips1/-mips2/-mips3 to the MIPS linker.

	* Makefile.in (collect2.o): Define macros where the standard places
	binaries are installed, so that if it is invoked outside of gcc, it
	has a better chance of finding the correct version of the tools to
	invoke.

	* mips-tdump.c (toplevel): Declare things void * on Silicon Graphics.

	* mips-tfile.c (toplevel): Declare things void * on Silicon
	Graphics.
	(stabs_seen): Move static variable to file scope.
	(mark_stabs): New function to put out the @stabs symbol for GDB to
	switch to encapsulated stabs.
	(pseudo_ops): Call mark_stabs if #@stabs found.
	(parse_stabs_common): Call mark_stabs if needed to add @stabs.

	* sdbout.c (sdbout_dequeue_anonymous_types): Don't core dump if
	TREE_VALUE is null.

	* decstabs.h (new file): DECstation w/encapsulated stabs.
	* irisgdb.h (new file): SGI iris w/encapsulated stabs.
	* mips-gbsd.h (new file): Mips BSD43 w/encapsulated stabs.
	* mips-gdb.h (new file): Mips w/encapsulated stabs.
	* mips-gnews.h (new file): Sony NEWS w/encapsulated stabs.
	* mips-gnews5.h (new file): Sony NEWS 5.0 w/encapsulated stabs.
	* mips-gsvr4.h (new file): Mips SV.4 w/encapsulated stabs.
	* mips-gsysv.h (new file): Mips SV.3 w/encapsulated stabs.
	* mips-svr4.h (new file): Mips System V.4.
	* x-iris (new file): Specify that iris needs alloca.o since it's
	alloca is buggy.

	* dbxout.c (toplevel): If NO_STAB_H is defined, include gstab.h just
	like if USG is defined.
	* final.c (toplevel): Ditto.
	* mips-tfile.c (toplevel): Ditto.
	* xcoffout.c (toplevel): Ditto.

	* xm-mips.h (NO_STAB_H): Define, except on OSF/1.

Fri Mar 20 23:51:54 1992  James Van Artsdalen  (james at bigtex.cactus.org)

	* reg-stack.c (subst_asm_stack_regs): A REG_UNUSED note never
	applies to an input reg, even if that reg is tied to an output.

	* reg-stack.c (record_asm_reg_life): Use XVECLEN only on a PARALLEL.
	(subst_asm_stack_regs): Likewise.

Fri Mar 20 18:57:43 1992  Michael Meissner  (meissner@osf.org)

	* mips.h (MIPS_VERSION): Bump Meissner version # to 13.
	(mips_declare_object): Declare new function.
	(ASM_OUTPUT_LABEL): Remove cruft from when collect spit out assembly
	language instead of C code.
	(ASM_GLOBALIZE_LABEL): Ditto.
	(ASM_OUTPUT_INT): Ditto.
	(ASM_OUTPUT_INT_CONST): Remove, no longer used.
	(ASM_OUTPUT_PTR_INT_SUM): Ditto.
	(ASM_OUTPUT_LABEL): Don't set that we've seen an identifier here.
	(ASM_DECLARE_OBJECT_NAME): New macro, call mips_declare_object to
	emit the label, and mark that no .extern is needed for the name.
	(ASM_OUTPUT_COMMON, ASM_OUTPUT_LOCAL): Call mips_declare_object.

	* mips.c (mips_declare_object): New function to output the stuff
	needed for global variables, bss variables, and static bss
	variables.

Fri Mar 20 14:13:32 1992  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* cp-xref.c (GNU_xref_file): Get rid of arbitrary limit--malloc nmbuf.

	* cp-parse.y (scoped_id): Error if spec'd type is undefined.

	* m68k.c (output_function_epilogue): Output at least a nop.

	* xm-hp320.h (USG): Defined.

	* m68k.c (output_function_prologue, output_function_epilogue):
	Change %I to %0I.
	(print_operand): Likewise.

	* varasm.c (data_section): Add forward decl.

	* m68k.c (print_operand): Make %! print fpcr.
	* crds.h, hp320.h, mot3300.h, news.h, tower-as.h (PRINT_OPERAND):
	Likewise.
	* m68k.md (fix_trunc*): Use %!.

	* toplev.c (compile_file): Optionally call setvbuf for output file.

	* loop.c (move_movables): Fix typo.

Fri Mar 20 17:42:12 1992  Paul Eggert  (eggert@twinsun.com)

	* Makefile.in (SYSCALLS.c): Use `cat' to create this file, instead
	of having it consist of `#include' directives.
	(mostlyclean): Delete SYSCALLS.c.
	* SYSCALLS.c: File deleted.

	* getpwd.c (new file): Get and cache working directory, using PWD
	if it works and getcwd otherwise.
	* Makefile.in (OBJS, protoize): add getpwd.o
	* cp-xref.c (GNU_xref_file): Likewise.
	* dbxout.c (dbxout_init): Likewise.
	* dwarfout.c (output_compile_unit_die): Likewise.
	* protoize.c (main): Likewise.

Fri Mar 20 12:58:57 1992  Ron Guilmette  (rfg at ncd.com)

	* dwarfout.c (location_or_const_value_attribute):  Fixed to use
	DECL_INCOMING_RTL as the "location" for formal parameter variables.

Fri Mar 20 13:26:16 1992  Michael Collison  (collison@osf.org)

	* i386rose.h (INIT_SECTION_ASM_OP): OSF doesn't support a true
	initialization section.

Fri Mar 20 07:23:15 1992  Tom Wood  (wood at dg-rtp.dg.com)

	* m88k.md (set zero_extract patterns): Use the + constraint.

	* crtstuff.c (__do_global_ctors_aux): Declare it.

	* m88k.h (CONDITIONAL_REGISTER_USAGE): Mark the PIC register fixed,
	but not call used.
    
	* m88k.c (m88k_builtin_saveregs): Get a properly aligned block.

	* m88k.md (cpu attribute): Use const form.

	* m88k.h, m88k.c, m88kdgux.h (uses of *_ASM_OP): Add tabs.

Fri Mar 20 05:46:26 1992  Richard Kenner  (kenner at vlsi1.ultra.nyu.edu)

	* expmed.c (emit_store_flag): Need to prevent SUBTARGET from being
	OP0 in one more case.

	* loop.c (add_label_notes): New function.
	(move_movables): Use it when hoisting a `move_insn' movable
	to ensure we create any required REG_LABEL notes.

	* hp800.h (CONDITIONAL_REGISTER_USAGE): Make reg 27 a global_reg
	for now.

	* combine.c (make_field_assignment): Use correct mode when shifting
	the source of the assignment.

	* fold-const.c (invert_truthvalue): Correct error in last change.

Thu Mar 19 18:59:24 1992  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* stmt.c (expand_end_case): Convert do_tablejump arg to Pmode.

Thu Mar 19 16:54:15 1992  Michael Meissner  (meissner@osf.org)

	* collect2.c (main): Only pass -fxxx and -mxxx options to gcc when
	building constructors.

Thu Mar 19 16:44:21 1992  Richard Kenner  (kenner at vlsi1.ultra.nyu.edu)

	* fold-const.c (invert_truthvalue): Correctly check for floating
	comparison.

Thu Mar 19 14:42:49 1992  Tom Wood  (wood at dg-rtp.dg.com)

	* function.c (expand_main_function): Do so if INVOKE__main is defined.
	* libgcc2.c (__main): Provide if INVOKE__main is defined.
	* crtstuff.c (__do_global_ctors_aux): Renamed from __do_global_ctors.
	(__do_global_ctors): Simple non-static function that invokes
	__do_global_ctors_aux.

	* crtstuff.c ({CTOR,DTOR}_LIST_{BEGIN,END}): Allow alternate way
	to represent and define __{CTOR,DTOR}_LIST__.
	* i386v.h, aix386.h (CTOR_LIST_{BEGIN,END}): Use these to push
	instead of the funny definition of CTORS_SECTION_ASM_OP.
	* svr3.h (CTORS_SECTION_ASM_OP): Use the .init section.

	* m88kv3.h (CTOR_LIST_BEGIN): Emit code to .init to push a zero.
	(CTOR_LIST_END): Do nothing.
	(ASM_OUTPUT_CONSTRUCTOR): Emit code to .init to push the address.
	(DTOR_LIST_{BEGIN,END}): Output a block of four words.
	(ASM_OUTPUT_DESTRUCTOR): Output the address and three words of -1.
	(DO_GLOBAL_DTORS_BODY): Ignore all values of -1.

	* real.h (REAL_VALUE_ISNAN): Define.
	* fold-const.c (target_isnan): New function.
	* sun3.h, sparc.h (ASM_OUTPUT_{FLOAT,DOUBLE}): Use REAL_VALUE_ISNAN.

	* sun3.h: Delete extra #endif.

Thu Mar 19 14:25:50 1992  Torbjorn Granlund  (tege@hal.gnu.ai.mit.edu)

	* hp800.c (output_move_double): Don't check for CONST_DOUBLE
	when classifying operand types, CONSTANT_P now includes it.
	Use split_double to assign operand vectors for CNSTOP.

Thu Mar 19 13:59:16 1992  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* hp320.h (SPACE_AFTER_L_OPTION): Defined.
	(LIB_SPEC): Defined. 

	* toplev.c (compile_file): Output aux_info_file in source file's dir.

Wed Mar 18 17:42:12 1992  Paul Eggert  (eggert@twinsun.com)

	* c-aux-info.c (gen_aux_info_record): Don't put the absolute path
	name into the output file: it's useless, expensive, and often wrong.
	Use "." instead.
	* protoize.c (is_syscalls_file): Look for SYSCALLS.c only at the
	end of the file name.
	(abspath): Remove useless test of '\0' versus '/'.  Add apollo fix.
	(shortpath): Stop when replacement filename is longer than the
	original; this avoids buffer overrun.  Do not pretend that
	`a/b/c' is a path prefix of `a/b/cd'.
	(gen_aux_info_file): Report errors when compilation fails.
	Do not use stdio in child process.
	Don't say `exit(errno)'; errno might be too large.
	(process_aux_info_file): Increment error count if aux info file cannot
	be generated.  Allow the invocation filename to be relative;
	for now, it will always be ".".
	(do_processing): Replace strlen (x) with sizeof (x) - 1.

Thu Mar 19 13:31:24 1992  Jim Wilson  (wilson@wookumz.gnu.ai.mit.edu)

	* cse.c (simplify_binary_operation, PLUS and MINUS cases): Use
	arg0s and arg1s instead of arg0 and arg1, so that resulting values
	will be sign extended.

	* sched.c (sched_analyze_1): Don't call sched_analyze_2 at the end.
	This code was never executed, and is wrong.
	(sched_analyze_2): Convert from if statements to a switch.
	Add support for PRE_DEC/PRE_INC/POST_DEC/POST_INC; pass them to
	sched_analyze_1 because they are writes.
	(sched_analyze_insn): Delete special case code to handle REG_INC
	notes, obsoleted by change above.

	* sparc.c (output_block_move): Rewrite to more efficiently handle
	constant length strings whose length is not a multiple of their
	alignment.  Also, the length of strings handled without a loop now
	is a multiple of their alignment, instead of fixed size.

	* objc-actions.c (build_selector_translation_table): Add cast for
	array index from enum to int to satisfy old compiler.

	* c-parse.gperf: Change ASM to ASM_KEYWORD.
	* gplus.gperf: Likewise.

	* Makefile.in (install-man): Delete duplicate lines.

Thu Mar 19 02:32:06 1992  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* c-decl.c (init_decl_processing): Disable `sqrt'.

Thu Mar 19 01:09:16 1992  James Van Artsdalen  (james at bigtex.cactus.org)

	* i386.c (output_move_double): Properly check for signedness in a
	const_double.

Wed Mar 18 18:51:37 1992  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* gcc.c (link_command_spec) [not LINK_LIBGCC_SPECIAL]: Put back -s.

	* config.sub (i486): Accept as CPU type.

	* collect2.c (do_wait): Handle NO_SYS_SIGLIST.
	* xm-hp320.h (NO_SYS_SIGLIST): Defined.

Wed Mar 18 15:58:31 1992  Tom Wood  (wood at dg-rtp.dg.com)

	* crtstuff.c, dwarfout.c, svr3.h, svr4.h (*_ASM_OP): Remove tabs
	and newlines.
	* dwarfout.c, svr3.h, svr4.h
	(ASM_OUTPUT_*, ASM_DECLARE_*, ASM_DWARF_*): Put tabs here when needed.

Wed Mar 18 17:26:44 1992  Ron Guilmette  (rfg at ncd.com)

	* svr4.h (MULTIBYTE_CHARS):  Added definition.

Wed Mar 18 17:36:30 1992  Michael Meissner  (meissner@osf.org)

	* gcc.c (collect_obstack): New static obstack to build the
	environment variables to pass to collect, so that it can reliably
	find the compiler passes.
	(putenv): New function to add a variable to the environment.
	Stubbed out for MSDOS and VMS at present, or if HAVE_PUTENV is
	defined.
	(putenv_from_paths): New function to take a path list, and build
	the corresponding environment variable for it.
	(main): Pass argv[0] to collect through the environment variable
	COLLECT_GCC.  Rebuild the COMPILER_PATH and LIBRARY_PATH
	environment variables to include all prefixes specified with -B,
	-b, and -V.  Construct COLLECT_GCC_OPTIONS environment variable to
	consist of all of the options passed to gcc, except for the -B,
	-b, and -V options.

	* collect2.c (main): Correctly size the number of arguments passed
	to the compiler when building the constructor lists to account for
	any options passed through the environment variable
	COLLECT_GCC_OPTIONS.  If the environment variable COLLECT_GCC
	specifies a full pathname, use that for the pathname to invoke gcc
	with.  Print the name "collect2" in lowercase if -v.

	* xm-mips.h (HAVE_PUTENV): Define if OSF/1.

Wed Mar 18 07:27:50 1992  Richard Kenner  (kenner at vlsi1.ultra.nyu.edu)

	* hp800.c (actual_fsize): Remove duplicate declaration.
	(profile_flag): Remove definition; defined in flags.h.
	(hp_profile_labelno, local_fsize, save_fregs): Move declarations to
	top of file.

	* hp800.h (OPTIMIZATION_OPTIONS): Do same thing as Sparc.

	* combine.c (reg_bitfield_target_p): Use rtx_equal_p instead of
	assuming the actual rtx is used.

Wed Mar 18 00:20:38 1992  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* gstddef.h: Handle _GCC_PTRDIFF_T, _GCC_SIZE_T, _GCC_WCHAR_T.
	* fixincludes: Use those macros in inserted conditionals.

	* gstddef.h: Handle _T_SIZE_ and _T_PTRDIFF_, like _T_WCHAR_.

	* sun3.h (CPP_SPEC): Delete the alternative for fpa as default.
	Define symbols with __ as well as without.

	* hp320.h (LINK_LIBGCC_SPECIAL, RELATIVE_PREFIX_NOT_LINKDIR):
	Define unless USE_GAS.

Tue Mar 17 17:19:07 1992  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* fixincludes (making directories): Always use find.

	* c-decl.c (pushdecl): Don't warn if define nonansi builtin as static,
	or if define ANSI builtin as inline static.

	* hp800hpux.h (LINK_LIBGCC_SPECIAL, RELATIVE_PREFIX_NOT_LINKDIR): New.

	* fixinc.svr4: Special changes for Sony MIPS-NEWS.

Tue Mar 17 15:12:57 1992  Tim Moore  (moore@defmacro.cs.utah.edu)

	* hp800.h (INITIAL_FRAME_POINTER_OFFSET): Get sign right, include
	fixed area.

Tue Mar 17 14:06:01 1992  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* Makefile.in (all.indirect): Renamed from all-internal.

	* t-mips (ALL): Deleted.

Tue Mar 17 10:35:18 1992  Michael Meissner  (meissner@osf.org)

	* halfpic.c (half_pic_address_p): Fix typo in last change.

	* x-decrose (CLIB): Add -lbsd, since vfork moved to libbsd.a.
	* x-encrose (CLIB): Ditto.
	* x-i386rose (CLIB): Ditto.

Tue Mar 17 07:02:29 1992  Richard Kenner  (kenner at vlsi1.ultra.nyu.edu)

	* mips.md (movdi): FP_REGS don't allow DImode, so remove them
	from the constraints.

	* mips.md (unaligned moves): Use UNSPEC to distinguish SETs that are
	unaligned from those that aren't.

	* combine.c (try_combine): Update LOG_LINKS correctly when we split a
	PARALLEL that loads from memory both as a full-word and sign-extended.

Tue Mar 17 21:23:10 1992    (Eric Youngdale at youngdale@v6550c.nrl.navy.mil)

	* vax.c (split_quadword_operands): Fix typo.

	* make-cc1.com: Add xcoffout.c.

Mon Mar 16 17:12:26 1992  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* configure (mips-dec-ultrix*): Use x-decstatn.
	* x-decstatn (CLIB): Delete.

	* expr.c (move_by_pieces_1): Add negative ints--don't subtract ints.

	* next.h (ASM_OUTPUT_CONSTRUCTOR, ASM_OUTPUT_DESTRUCTOR): Turned off.
	* t-next (EXTRA_PROGRAMS, ld): Use collect2.
	* configure (m68k-next-*): Use t-next.

	* mips-bsd.h (TARGET_MEM_FUNCTIONS): Defined.

Mon Mar 16 14:04:08 1992  Tim Moore  (moore@defmacro.cs.utah.edu)

	* hp800.md (movsi + 10, movsi + 11): Add '*' to constraints.
	(fix_truncsfsi2, fix_truncdfsi2): Add an alternative to put result
	directly in a general register.
	* hp800.h (ASM_DECLARE_FUNCTION_NAME): If function is not
	TREE_PUBLIC, don't do the argument descriptor magic.
	(EXPAND_BUILTIN_SAVEREGS): call hppa_builtin_saveregs.
	(LEGITIMIZE_ADDRESS): Don't legitimize CONST addresses.
	(TEXT_SECTION_ASM_OP, DATA_SECTION_ASM_OP): Put tabs back in.
	* xm-hp800.h (S_ISDIR): Define for BSD.

	* hp800.c (hppa_builtin_saveregs): New function.
	* va-hp800.h : Rewrite.


Sun Mar 15 23:38:39 1992  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* objc-actions.c (really_start_method): Dynamically allocate `buf'.

	* sparc.h (TARGET_HOPE_ALIGN): Renamed from TARGET_ALIGN.
	* sparc.c (output_move_double, output_fp_move_double): Use new name.
	* sparc.h (TARGET_FORCE_ALIGN): New flag.
	(FUNCTION_ARG_BOUNDARY): Defined.
	(FUNCTION_ARG, FUNCTION_INCOMING_ARG, FUNCTION_ARG_ADVANCE):
	(FUNCTION_ARG_PARTIAL_NREGS): Handle TARGET_FORCE_ALIGN.
	(ROUND_REG): New subroutine macro.

	* sparc.h (CC1_SPEC): Don't try to recognize -dalign.

	* hp320.h (ASM_OUTPUT_ASCII): Put tab here.
	(ASCII_DATA_ASM_OP): Not here.
	* mot3300.h: Likewise.

	* Makefile.in (mostlyclean): Don't delete .s or .i files.
	(extraclean): Do that here.

	* a29k.h, fx80.h, gmicro.h, i860v3.h, i860v4.h (*_ASM_OP): Remove tabs.
	* m88kv4.h, m88kdgux.h, mips.h, romp.h, rs6000.h: Likewise.
	* sun386.h, tower-as: Likewise.
	* arm.h, hp800.h (*_ASM_OP): Remove extra tabs and newlines.
	* m68ksgs.h (*_ASM_OP): Remove tabs.
	(ASM_OUTPUT_*): Put the tabs here when appropriate.
	* m68kv4.h, m88k.h, next.h: Likewise.

Sun Mar 15 18:37:49 1992  Richard Kenner  (kenner at vlsi1.ultra.nyu.edu)

	* reload1.c (inc_for_reload): Rework to try to do addition in
	INCLOC rather than assuming when it can be done; this fixes a bug
	on hp800 and generates better code on some CISC machines.

Sun Mar 15 15:12:39 1992  Ron Guilmette  (rfg at ncd.com)

	* crtstuff.c:  If defined, invoke INIT_SECTION_PREAMBLE.

Sun Mar 15 15:12:39 1992  Ron Guilmette  (rfg at ncd.com)

	* xm-sparcv4.h, x-sparcv4:  New files.
	* configure (sparc-*-sysv4*):  Use them.

Sun Mar 15 16:41:33 1992  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* sparc.md (subdi3): Fix unterminated comment.

Sun Mar 15 04:08:59 1992  Torbjorn Granlund  (tege at zevs.sics.se)

	* hp800.c (output_block_move): Major rewrite.
	* hp800.md (movstrsi): Rewrite to match new output_block_move.  FAIL
	if the actual operands are better handled by a library call.
	(movstrsi recognizer): Rewrite.

	* sparc.md (movstrsi): FAIL for all blocks with unknown size.

Sat Mar 14 19:06:02 1992  James Van Artsdalen  (james at bigtex.cactus.org)

	* c-decl.c (builtin_function): Don't declare static.

Sat Mar 14 15:57:53 1992  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* expr.c (get_pointer_alignment): Convert bytes to bits
	when handling PLUS_EXPR.

	* cp-search.c (push_stack_level): Declare tp as char *.

	* mips.c (mips_asm_file_end): Use TREE_ASM_WRITTEN to avoid
	duplicate .extern commands.

	* mips-tdump.c: Include fcntl.h.
	* mips-tfile.c (open, fstat): Declarations deleted.

	* xm-mipsnews.h: New file.
	* mips-news5.h: New file.  Needs papers from Ron Cole.
	* configure (mips-sony-sysv*): New alternative.

Sat Mar 14 07:11:14 1992  Richard Kenner  (kenner at vlsi1.ultra.nyu.edu)

	* integrate.c (initialize_for_inline): If DECL_INCOMING_RTL is
	the same object as DECL_RTL, store copy in both places.

Sat Mar 14 10:12:39 1992  Michael Tiemann  (tiemann@cygnus.com)

	* cp-decl2.c (flag_this_is_variable): Define the value -2 to mean an
	object of known type is being constructed.
	* cp-decl.c (resolves_to_fixed_type_p): Test FLAG_THIS_IS_VARIABLE
	for the value -2 instead of testing DECL_CONSTRUCTOR_P in case we
	are looking at `current_class_decl'.
	* cp-search.c (init_vbase_pointers): Set FLAG_THIS_IS_VARIABLE to -2
	instead of 0.
	(build_vbase_vtables_init): Ditto.
	* cp-*.c: All tests of FLAG_THIS_IS_VARIABLE changed to reflect the
	new semantics.

	* cp-type2.c (build_functional_cast): remove incorrect error message.

	* cp-typeck.c (comptypes): Don't use IS_AGGR_TYPE_2; test explicitly
	that both are RECORD_TYPE.
	(build_binary_op_nodefault): Ditto.
	(convert_for_assignment): Ditto.
	* cp-cvt.c (convert_to_pointer): Ditto.
	(convert_to_pointer_force): Ditto.
	* cp-call.c (convert_harshness): Ditto.

	* cp-search.c (get_first_matching_virtual): Fix typo.

	* cp-tree.c (layout_basetypes): When warning about certain
	inheritance relationships, only print "virtual" when the
	inheritance is virtual.

	* cp-spew.c (yylex): Fix some fencepost errors found by Chip
	Salzenberg.

	* cp-init.c (is_aggr_typedef): Now calls `error' instead of `fatal'
	if NAME is non-AGGR type.

	* cp-class.c (duplicate_tag_error): Set CLASSTYPE_VBASE_SIZE.

Sat Mar 14 00:28:57 1992  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* gcc.c (do_spec_1): Don't copy closing delim in %(...) or %[...].
	(read_specs): Don't ignore newline that ends a comment.
	(handle_braces): Properly terminate scan for %*.
	(validate_all_switches): Scan any extra specs from specs file.

	* x-iris: File deleted.

	* cccp.c (output_line_command): Avoid outputting line number 0.

	* final.c (asm_fprintf): Handle %O.
	* m68k.c: Insert %O before `move' in MOTOROLA calls to asm_fprintf.

Fri Mar 13 20:17:40 1992  Mike Stump  (mrs@cygnus.com)

	* cp-typeck.c, cp-type2.c, cp-tree.c, cp-spew.c, cp-search.c,
	cp-parse.y, cp-init.c, cp-decl.c, cp-cvt.c, cp-class.c, cp-call.c:
	Merged in updated cp-* files for gcc-2.1.

Fri Mar 13 14:54:23 1992  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* objc-actions.c (get_arg_type_list) [not NEXT_OBJC_RUNTIME]:
	1st arg always an object.
	(synth_module_prologue): Don't use parser interface, just build nodes.
	Use `void *' to avoid problems with TAG_SUPER vs _TAG_SUPER.
	(TAG_SUPER, _msg_id, _msgSuper_id): Deleted.
	(objc_getClass_id, objc_getMetaClass_id): Deleted.
	(selector_type): Renamed from _selector_type.
	(forward_declare_categories, build_objc_symtab_template):
	Don't use parser interface, just build nodes.
	(create_builtin_decl): New function.

	* hp800hpux.h (LIB_SPEC): New definition.

	* arm.h (TARGET_WHEN_DEBUGGING): Name corrected.

	* protoize.c (abspath): Make abs_buffer a little longer.

	* encore.h (NO_ABSOLUTE_PREFIX_IF_SYMBOLIC): Defined.
	(EXTERNAL_PREFIX, IMMEDIATE_PREFIX): Defined.
	(TARGET_DEFAULT): Changed to 9.
	(ENCORE_ASM): Defined.

	* sequent.h (PRINT_OPERAND, PRINT_OPERAND_ADDRESS): Deleted.
	(IMMEDIATE_PREFIX): Define as 0.
	(SEQUENT_ASM): Defined.
	* ns32k.c (print_operand): Output f.p. as ints if SEQUENT_ASM.
	Output doubles using 0f, not 0d, if ENCORE_ASM.

	* configure: If no configuration matches, print error and exit.
	(m68k-sun-sunos*): Renamed from m68k-sun-sunos4*.

	* configure (copy): New variable.
	If hard link fails, make a copy.

	* mips.c (mips_asm_file_end): Don't set flags in identifiers.
	Just output every identifier found in extern_head.

	* configure (sparc-tti-*): Renamed from sparc-unicom-*.
	(m68k-tti-*): Replaced.
	(m68k-tti2-*): Deleted

	* config.sub (pbd): Alias for sparc-tti, not sparc-unicom.
	(pbb): New machine alias.
	(*-tti): Implies os=-sysv3.
	(-oss*): Alias for -sysv3.

Fri Mar 13 17:20:52 1992  david d [zoo] zuhn  (zoo at lynx.spa.umn.edu)

	* x-mips: add -mld.

Fri Mar 13 14:48:05 1992  Torbjorn Granlund  (tege@hal.gnu.ai.mit.edu)

	* hp800.h (REGISTER_NAMES): Name register 112, the shift amount
	register, as "SAR".  It was left out.

Fri Mar 13 04:08:53 1992  James Van Artsdalen  (james at bigtex.cactus.org)

	* i386isc.h (STARTFILE_SPEC): Use crt1, not crt0.

	* x-i386sco (CC,OLDCC): Don't define `i386' here.
	(RCCFLAGS): Define it here, along with other SCO symbols.
	(XCFLAGS): Use that.  New variable.
	(CLIB): Use -lPW to get alloca().

Fri Mar 13 14:11:41 1992  Jeffrey A. Law  (law@wombat.gnu.ai.mit.edu)

	* Changes to enable use of sqrt builtin functions.
	* c-decl.c (init_decl_processing): Enable BUILT_IN_FSQRT for 
	__builtin_sqrt.  Also enable for sqrt if not traditional.
	* cp-decl.c (init_decl_processing): Enable BUILT_IN_FSQRT for
	__builtin_sqrt.
	* expr.c (expand_builtin, case BUILT_IN_FSQRT): New case.  Call
	expand_unop to expand the operation.  If that fails break and
	emit a call to the library sqrt function.
	* optabs.c (init_optabs): Initialize new optabs for sqrt functions.
	* expr.h (sqrt_optab): Declare here so that expr.c can see it.

Fri Mar 13 08:56:50 1992  Richard Kenner  (kenner at vlsi1.ultra.nyu.edu)

	* cse.c (delete_dead_from_cse): Fix error in last change.

	* a29k.h (PCC_BITFIELD_TYPE_MATTERS): Define as 1.

	* reorg.c (fill_slots_from_thread): Add missing arg in call to
	try_split call that was recently added.

	* fold-const.c (invert_truthvalue, case COMPOUND_EXPR): New case.

Fri Mar 13 01:02:56 1992  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* collect2.c (ordinary scan_prog_file): Don't count | in sym name.

	* ns32k.md (movsf): Remove #if 0 around #ifndef GAS_SYNTAX.

	* pc532.h (GAS_SYNTAX): Defined.

Thu Mar 12 00:10:23 1992  Stefan Petri  (petri@jupiter.ibr.cs.tu-bs.de)

	* configure (pyramid): Re-enable.

	* pyr.h (STRUCTURE_SIZE_BOUNDARY): Restore definition from gcc-1.40.
	(PCC_BITFIELD_TYPE_MATTERS): Define as 1 instead of empty.

	* pyr.h (STATIC_CHAIN_INCOMING_REGNUM): Added.

	* pyr.h (TRAMPOLINE_TEMPLATE, TRAMPOLINE_SIZE, TRAMPOLINE_ALIGNMENT,
	INITIALIZE_TRAMPOLINE): Added, inspired by convex.h

	* pyr.h (INITIAL_FRAME_POINTER_OFFSET): New definition.

	* pyr.md (indirect_jump): New pattern.

	* libgcc2.c [L_trampoline]: Don't include gstddef.h in this case.
	(__enable_execute_stack): Cloned definition for pyramid
	from that for convex.

Thu Mar 12 13:23:05 1992  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* collect2.c (FREAD, FWRITE): #undef if USG.

	* x-mipsv: New file.
	* configure (mips-*-sysv): Use it.

	* cccp.c (skip_to_end_of_comment): New arg NOWARN.  Callers changed.
	(do_xifdef, do_endif): Pass 1 for NOWARN.

	* i386.h, hp800.h (ENCODE_SECTION_INFO): Handle CONSTRUCTOR node.
	* i386.h (ENCODE_SECTION_INFO): Only decls can be global.

	* cccp.c (warn_import): New variable.
	(do_include): Test that.
	(main): Handle -Wimport.

	* hp800hpux.h (DBX_DEBUGGING_INFO): #undef it.
	* x-hp800hpux: New file.
	* configure (hp800-hp-hpux*): Use it.

	* config.sub: Make triton alias for sysv3.

	* collect2.c: If CROSS_COMPILE, #undef the special OBJECT_FORMAT_*.

Thu Mar 12 10:35:50 1992  Ron Guilmette  (rfg at ncd.com)

	* gcc.c (default_compilers):  Use .i suffix (instead of .cpp) for all
	preprocessor output files.
	(execute):  Print commands used to invoke passes if -save-temps.

	* Makefile.in (mostlyclean): Delete *.i, not *.cpp.
	Don't delete *.co.

Thu Mar 12 07:13:33 1992  Richard Kenner  (kenner at vlsi1.ultra.nyu.edu)

	* xcoff.h (DBX_FINISH_SYMBOL): When writing function name, strip off
	any storage class at the end.

Thu Mar 12 05:16:49 1992  Tom Wood  (wood@dg-rtp.dg.com)

	* config.sub (-triton*): Delete this OS (it's sysv3).
	* configure (m88k-dolphin-sysv3): Rename alternative.
	* xm-m88kdolph.h: Delete.  Use xm-m88kv3.h instead.
	* x-m88kdolph: New file.
	
Thu Mar 12 00:19:14 1992  James Van Artsdalen  (james at bigtex.cactus.org)

	* i386.md (movstrsi recognizers): Fix reversed operands.

Thu Mar 12 00:01:11 1992  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* gcc.c (main):
	Don't require machine_suffix for md_startfile_prefix or md_exec_prefix.

	* toplev.c (main): Force flag_no_inline if not optimizing.

	* dbxout.c (dbxout_type): Ignored names don't count in case UNION_TYPE.

	* cp-decl.c (pushtag): Push on ->tags and make TYPE_STUB_DECL
	even if type has no tag name.
	* cp-class.c (finish_struct): Always call rest_of_type_compilation.

	* cse.c (simplify_unary_operation): For SQRT, do nothing.

	* byteorder.h: Test __i860_big_endian__.

	* ns32k.c (print_operand_address): Test NO_ABSOLUTE_PREFIX_IF_SYMBOLIC.
	Test BASE_REG_NEEDED inside indirect address too.
	* sequent.h (NO_ABSOLUTE_PREFIX_IF_SYMBOLIC): Defined.
	(SEQUENT_ADDRESS_BUG, SEQUENT_BASE_REGS): #if 0.

Wed Mar 11 22:55:38 1992  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* c-decl.c (push_parm_decl): Clear immediate_size_expand temporarily.
	* stor-layout.c (get_pending_sizes): Fix up SAVE_EXPR_CONTEXT.
	(variable_size): No longer static.
	* c-decl.c (grokdeclarator): Call variable_size, not save_expr.
	Rename local `variable_size' to `size_varies'.

Wed Mar 11 18:53:23 1992  Chip Salzenberg  (chip@tct.com)

	* collect2.c (OBJECT_FORMAT_COFF, OBJECT_FORMAT_ROSE):
	(OBJECT_FORMAT_NONE): Three alternative strategies for finding inits.
	OBJECT_FORMAT_COFF is completely new.
	(is_ctor_dtor): New function.
	[OBJECT_FORMAT_NONE, OBJECT_FORMAT_ROSE] (scan_prog_file):
	Use is_ctor_dtor.

	* x-rs6000 (CLIB): Add -lld.
	* t-rs6000: New file.
	* configure (rs6000...): Use that file.

Wed Mar 11 17:31:13 1992  Torbjorn Granlund  (tege@hal.gnu.ai.mit.edu)

	* reload1.c (inc_for_reload): Call gen_add2_insn with negated
	constant instead of gen_sub2_insn.

Wed Mar 11 17:30:35 1992  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* c-typeck.c (build_binary_op): For shifts, always use op0 type.

	* stmt.c (expand_end_bindings):
	Load virtual_incoming_args_rtx via a pseudo reg.

	* math-68881 (pow): Add missing parens; typo in fp constant.

	* i386isc.h (LIB_SPEC): Add -lg.

	* libgcc2.c (__CTOR_LIST__, __DTOR_LIST__):
	Don't define if CTOR_LISTS_DEFINED_EXTERNALLY.
	(__builtin_saveregs): Handle NO_UNDERSCORES for sparc.

	* pbb.h, pbd.h: New files from Mike Bloom.
	* configure (m68k-tti2-*): Turned back on.

	* c++: Add a colon command in case system doesn't handle #!/bin/sh.

Mon Mar 11 19:54:43 1992  James Van Artsdalen  (james at bigtex.cactus.org)

	* i386.md (integer truncMN2): Delete patterns.  Not needed on i386.

Wed Mar 11 16:58:56 1992  Tom Wood  (wood@dg-rtp.dg.com)

	* m88kv3.h (STARTFILE_SPEC, LIB_SPEC): Search for crt{begin,end}.o
	(DO_GLOBAL_CTORS_BODY, CTORS_SECTION_ASM_OP, ASM_OUTPUT_CONSTRUCTOR,
	DTORS_SECTION_ASM_OP): Implement new svr3 scheme.

Wed Mar 11 16:24:03 1992  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* fold-const.c (fold): When correcting constant result of GE, LE, NE,
	make sure we really have a constant result.

	* ns32k.md (call, call_value): Support GAS_SYNTAX and GNX_V3 like 1.40.

	* c-decl.c (pushdecl): Properly use prev implicit decl in warning.

Wed Mar 11 16:05:20 1992  Jim Wilson  (wilson@wookumz.gnu.ai.mit.edu)

	* Makefile.in (OBJS): Add xcoffout.o.
	(dbxout.o, final.o, toplev.o, varasm.o): Add xcoff.h dependency.
	(xcoffout.o): Add rule to build.

	* xcoffout.c: Change names of rs6000_*_section_name variables to
	xcoff_*_section_name, and move definitions of them here from
	rs6000.c.
	* xcoff.h: Likewise, move declarations here from rs6000.h.
	* rs6000.c: Delete definitions of rs6000_*_section_name variables.
	* rs6000.h: Delete declarations of rs6000_*_section_name variables.

	* rs6000.c (output_epilog): Add comment to note lack of traceback
	table support.
	* rs6000.h: Refine comment explaining ASM_SPEC definition.
	(XCOFF_DEBUGGING_INFO): Define.
	(DBX_CONTIN_LENGTH, DBX_NO_XREFS): Move to xcoff.h.
	(ASM_FILE_START): When -g, emit private_data_section.
	(ASM_DECLARE_FUNCTION_NAME): When -g, output .lglobl for static
	functions.  Also, output .function debug info.
	(ASM_OUTPUT_COMMON, ASM_OUTPUT_LOCAL): Add bss_section call.
	
	* dbxout.c: Include xcoff.h when XCOFF_DEBUGGING_INFO is defined.
	Define default values for DBX_DECL_STABS_CODE,
	DBX_STATIC_CONST_VAR_CODE, DBX_REGPARM_STABS_CODE, and
	DBX_REGPARM_STABS_LETTER.  These exist to be overriden for xcoff.
	Include entire file if either DBX_DEBUGGING_INFO or
	XCOFF_DEBUGGING_INFO is defined.
	(dbxout_type): Add early exit if DBX_TYPE_DEFINED, used for xcoff.
	(dbxout_symbol): Use DBX_DECL_STABS_CODE instead of N_LSYM for
	tags and typedefs.  Use DBX_STATIC_CONST_VAR_CODE instead of N_FUN
	for static const variables.  Add DBX_STATIC_BLOCK_START and
	DBX_STATIC_BLOCK_END around output of stab info, for xcoff use.
	(dbxout_finish_symbol): Use DBX_FINISH_SYMBOL instead if defined.
	(dbxout_syms, dbxout_parms): No longer static, referenced from
	xcoffout.c.
	(dbxout_parms): Use DBX_REGPARM_STABS_CODE instead of N_RSYM.  Use
	DBX_REGPARM_STABS_LETTER instead of 'P'.
	(dbxout_reg_parms): No longer static.
	* final.c: Also include gstab.h if XCOFF_DEBUGGING_INFO defined.
	Include xcoff.h if XCOFF_DEBUGGING_INFO defined.
	(final_start_function): Call xcoffout_output_first_source_line
	when XCOFF_DEBUG.  Set next_block_index if XCOFF_DEBUG.
	(final_end_function): Call xcoffout_end_function if XCOFF_DEBUG.
	Call xcoff_end_epilogue if XCOFF_DEBUG.
	(final_scan_insn): Call xcoffout_begin_function,
	xcoffout_begin_block, and xcoffout_end_block if XCOFF_DEBUG.
	(output_source_line): Also call dbxout_source_file if XCOFF_DEBUG.
	* flags.h: Define XCOFF_DEBUG.  Also declare
	use_gdb_dbx_extensions if XCOFF_DEBUGGING_INFO.
	* toplev.c: Also declare use_gdb_dbx_extensions if
	XCOFF_DEBUGGING_INFO.  Include xcoff.h in XCOFF_DEBUGGING_INFO.
	(compile_file): Also call dbxout_init, and dbxout_finish if
	XCOFF_DEBUG.
	(rest_of_decl_compilation): Also call dbxout_symbol if
	XCOFF_DEBUG.
	(rest_of_type_compilation): Also call dbxout_symbol if
	XCOFF_DEBUG.
	(main): Add support for recognizing -g when XCOFF_DEBUGGING_INFO.
	* varasm.c: Include xcoff.h if XCOFF_DEBUGGING_INFO.
	(assemble_variable): Also call dbxout_symbol when XCOFF_DEBUG.
	Change all returns to goto finish.  At finish label,
	call dbxout_symbol if XCOFF_DEBUG.

	* dbxstclass.h: New file.  Define XCOFF specific storage classes.
	* xcoff.h: New file, for XCOFF support.  Included by xcoffout.c,
	dbxout.c, final.c, toplev.c, and varasm.c.
	* xcoffout.c: New file for XCOFF support.  Most of the support is
	implemented by dbxout.c, this just includes stuff that can not be
	easily performed within dbxout.c.

	* toplev.c (struct W_options): Add entry for warn_inline, so user
	can turn this warning on.

Wed Mar 11 15:11:42 1992  Torbjorn Granlund  (tege@hal.gnu.ai.mit.edu)

	* optabs.c (init_optabs): Fix typo (Imode instead of TImode) in
	HAVE_subti3 case.

Wed Mar 11 13:10:20 1992  Jeffrey A. Law  (law@wombat.gnu.ai.mit.edu)

	* sparc.h (REG_ALLOC_ORDER): Make %g3 more desirable.

Wed Mar 11 12:35:12 1992  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* fixincludes (egrep cmd): Delete misplaced `#e[nl]'.

	* jump.c (jump_optimize): Try to fix last change.

	* expmed.c (init_expmed): Use big, ugly factor in mult_is_very_cheap.

Wed Mar 11 08:00:18 1992  Tom Wood  (wood@dg-rtp.dg.com)

	* toplev.c (rest_of_compilation): Use sdbout_types to clear the
	anonymous types queue if any.
	* sdbout.c: Correct spelling of sdbout_dequeue_anonymous_types.

	* genattrtab.c (attr_string): Don't assume a terminating null.

Wed Mar 11 07:05:38 1992  Richard Kenner  (kenner at vlsi1.ultra.nyu.edu)

	* reload1.c (reload_as_needed): Delete erroneous test of
	basic_block_needs.

	* stmt.c (expand_end_case): Know that we will obtain a constant
	if we were passed a COMPOUND_EXPR whose second operand is constant.
	Fold the MINUS_EXPR we make for casesi.

	* reorg.c (update_block_from_store): Deleted.
	(update_block): Always leave USE; don't try to update live regs.

	* explow.c (copy_to_suggested_reg): Add new arg for mode to use.
	* expmed.c (expand_divmod): Pass new arg to copy_to_suggested_reg.

	* reload1.c (set_label_offsets, reload_as_needed): Consistently
	ignore non-eliminables when computing num_not_at_initial_offset.

	* rs6000.md (subsi3): Remove unnecessary call to force_reg.

	* rs6000.c (output_epilog): Separate setting LR from loading
	it from memory in some cases.
	Branch to FP restore routine instead of calling it.

	* flow.c (propagate_block): CC0 is not live when we delete a dead
	insn.
	* cse.c (delete_dead_from_cse): An insn setting CC0 is not live
	if the next insn doesn't reference CC0.

	* cse.c (cse_insn): If we see a narrow AND with a constant, check if
	we have seen a wider AND.

	* combine.c (can_combine_p): Allow SUBREG of non-tiable regs if we
	are going to do is copy it to CC0.

	* reload.c (find_secondary_reload): If X is a pseudo with an
	equivalent MEM, use the MEM to see if a secondary reload is needed.
	Don't call REG_CLASS_FROM_LETTER for 'r'.
	* reload1.c (emit_reload_insns): Handle reloading pseudos
	with equivalent MEM when we have secondary reloads; use the MEM
	when required.

	* romp.md (reload_outsi): Pattern should be a single PARALLEL
	whose second component is a CLOBBER.

Wed Mar 11 03:11:26 1992  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* gcc.c (find_a_file, do_spec_1): Always obey require_machine_suffix.
	(machine_explicit): Var deleted.

Tue Mar 10 23:12:24 1992  Jeffrey A. Law  (law@wombat.gnu.ai.mit.edu)

	* m68k.md (68000 special shifts): No longer accept a shift count 
	of 16.  Delete support for shifts by 16 places.
	(shift by 16 bits): New patterns which apply to all 68k models.
	* m68k.h (RTX_COSTS): Shifts by 16 are cheap.

Tue Mar 10 20:37:31 1992  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* dwarfout.c (location_or_const_value_attribute):
	Reenable changes disabled on Feb 21.
	* function.c (instantiate_decls): Likewise.

	* sdbout.c (sdbout_symbol): Handle (mem (const...)).
	* dbxout.c (dbxout_symbol): Likewise.

	* xm-i386isc.h: New file.
	* configure (i386-*-isc*): Use it.

	* hp320.h (MD_STARTFILE_PREFIX): Deleted.

	* m68k.h (RTX_COSTS): If MULT is a shift, jump to shift case.

	* sun3.h (TARGET_MEM_FUNCTIONS): Defined.

	* toplev.c (rest_of_compilation): Call sdbout_dequeue_anonymous_types
	even if we don't output assembler code.

	* jump.c (jump_optimize): In `if (foo) bar; else break;' optimization,
	include in range1 and range2 any line numbers at the beginning.

	* c-typeck.c (spelling_length): Initialize `size'.
	(PUSH_SPELLING): `spelling_size' is measured in elements.
	(get_spelling): Use xmalloc if there is no buffer yet.

Tue Mar 10 20:25:56 1992  Jim Wilson  (wilson@wookumz.gnu.ai.mit.edu)

	* integrate.c (save_for_inline_copying):
	Set up LABEL_NAME of label copies.

	* sparc.md: Clean up attribute settings.  Add default length of 2
	for insns of type multi.  Make sure all insns have correct type and
	length attribute values.

Tue Mar 10 19:13:19 1992  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* c-decl.c (warn_parentheses): Default is 0.
	(c_decode_option): -Wall implies -Wparentheses.

Tue Mar 10 17:49:51 1992  Torbjorn Granlund  (tege at mole.gnu.ai.mit.edu)

	* hp800.md (shNadd recognizers): Put the MULT first, to obey insn
	canonicalization rules.

	* hp800.md (subsi3): Don't handle constants for operand 2, but
	do handle them for operand 1, for the subi insn.

	* hp800.md (compare into ordinary reg): Use "arith11_operand", not
	"arith_operand" for operand 2.  Use `I', not `J' as constraint.
	Don't change the constant in the output code (i.e. undo Mar 10
	change).
	* hp800.c (arith11_operand): New predicate function.  Fix comment.

	hp800.md (mulsi3): Don't handle CONST_INT specifically, rely on
	machine independent code.
	* hp800.h (RTX_COST): Define.
	* hp800.c (ABS, mul_operands, emit_mul_by_constant) Remove.
	(mul_by_constant_aux, test_factor_and_output): Remove.

	* hp800.md (addsi3): Use "register_operand" for operand 1, not
	"arith_operand".

	* hp800.md: Clean up spacing and comments in a few places.

	* hp800.c (output_move_double): Handle auto increment and auto
	decrement.  Remove unused enums.  Test for either operand being a
	REGOP instead if RNDOP, since we require at least one operand to
	be a register.  Pass the MEM address to find_addr_reg, not the
	entire MEM rtx (in two places).

	* hp800.h (WORDS_BIG_ENDIAN): Fix typo in comment.
	(RTX_COST): Return cost of a PLUS, to indirectly give the right
	cost for the shNadd insns.  Adjust the cost for division.

Tue Mar 10 15:57:24 1992  Jim Wilson  (wilson@wookumz.gnu.ai.mit.edu)

	* sparc.md: Add pattern for optimizing bitfield compares.  This
	pattern was accidently lost when other (now-obsolete) bitfield
	patterns were removed.

	* sparc.c (arith32_operand): Deleted.
	* sparc.md (movstrsi): Now uses nonmemory_operand for length.

	* sparc.c (output_arc_profiler): Emit insns from first to last
	instead of last to first, since it is much clearer.  Eliminate
	profiler_target, since it resulted in illegal rtx sharing.

	* sparc.c (legitimize_pic_address): Make -fPIC work again, re the
	Feb 27 cse.c LO_SUM fix.  Put addresses inside UNSPEC when loading
	them to ensure that cse won't mistakenly optimize them.
	* sparc.md: Two new patterns, to match (HIGH (UNSPEC (..))) and
	(LO_SUM (reg) (UNSPEC (..))) as generated above.

Tue Mar 10 14:58:19 1992  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* mips-news.h (ASM_SPEC): Move %{G*} outside of -mgas conditional.
	* nws3250v4.h, xm-nws3250v4.h, x-nws3250v4: New files.  From cph.

	* i860.c (sfmode_constant_to_ulong): Fix typo in last change.

	* expr.c (store_expr): Initialize `label'.

	* 3b1.h (HAVE_ATEXIT): #undef this.

	* hp800.md (compare into ordinary reg): Make large ints "negative".

	* hp800hpux.h: New file.
	* configure (hp800-*-bsd*): Renamed from hp800-*-*.
	(hp800-*-hpux*): New configuration.

Tue Mar 10 11:03:47 1992  Torbjorn Granlund  (tege@hal.gnu.ai.mit.edu)

	* expmed.c (init_expmed): Make the lea pattern in the canonical way.

Tue Mar 10 10:32:30 1992  Tom Wood  (wood@hal)

	* m88k.h (ASM_OUTPUT_{COMMON,LOCAL}): Compute size consistently.

Tue Mar 10 07:41:09 1992  Richard Kenner  (kenner at vlsi1.ultra.nyu.edu)

	* recog.c (constrain_operands, case 'E'): Fix typo.

	* function.c (setjmp_protect): Don't put vars from inline functions
	on the stack.

	* c-typeck.c (process_init_constructor): Don't use host integers for
	bounds and index computation; use trees instead.
	If specifying index in array with unset bounds, assume lower bound
	of zero and check specified index against zero.

	* tree.h (mode_for_size): Don't declare here.
	* machmode.h (mode_for_size): Declare here instead.

	* reorg.c (fill_slots_from_thread): Try to split THREAD immediately
	so we don't get confused if it gets split later.

	* reorg.c (fill_slots_from_thread): Don't take add from loop
	head if the increment amount depends on the target register, since
	we can't undo the operation.

Mon Mar  9 12:18:04 1992  Jim Wilson  (wilson@wookumz.gnu.ai.mit.edu)

	* unroll.c (final_biv_value): Fail if the biv is not MODE_INT.

	* combine.c (distribute_notes, case REG_DEAD): Call rtx_equal_p
	to verify that it was the set that modified the register, and
	not a clobber.

Sun Mar  8 22:20:24 1992  James Van Artsdalen  (james at bigtex.cactus.org)

	* c-parse.y,c-lex.c,cp-hash.h,cp-parse.y,cp-spew.c,objc-parse.y:
	Rename `ASM' to `ASM_KEYWORD' to avoid trouble with SCO
	<sys/signal.h>.

Sun Mar  8 23:16:37 1992  Jeffrey A. Law  (law@wombat.gnu.ai.mit.edu)

	* expr.c (move_by_pieces, move_by_pieces_ninsns): Remove March 4 and
	March 5 changes.  Set max_size to MOVE_MAX + 1 instead.

Sun Mar  8 17:08:57 1992  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* expr.c (do_tablejump): New arg MODE.
	* stmt.c (expand_end_case): Pass that arg.

	* c-decl.c (pushtag): Push even anonymous types on tags list.
	(parmlist_tags_warning): Handle anonymous types in the list.

Sun Mar  8 15:08:58 1992  James Van Artsdalen  (james at bigtex.cactus.org)

	* i386mach.h (perform_fixdfsi): Rename from *_fix_trundfsi2.
	Restore float control word correctly.
	* i386rose.h (perform_fixdfsi): Likewise.

	* i386.h (CONST_DOUBLE_OK_FOR_LETTER_P): Allow float constants,
	even if -msoft-float is used: reg-stack.c may emit an insn to load
	the function value register with 0.0.

	* i386.md (bit test insns): Don't allow memory operands as the
	first argument of the zero_extract.

	* i386isc.h (RETURN_POPS_ARGS): Comment this out: ISC uses the
	standard definition.

	* i386sco.h (STARTFILE_SPEC): Use crtbegin.o.
	(ENDFILE_SPEC): Use crtend.o.
	(CPP_SPEC): #undef before defining.
	(RETURN_POPS_ARGS): Caller pops args on SCO.

Sun Mar  8 14:25:16 1992  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* configure: Fatal error if srcdir has already been configured.
	Remove periods from error messages.

	* 3b1.h, mot3300.h (ASM_OUTPUT_OPCODE): Change swap to swap.w.
	(SGS_SWAP_W): Deleted.
	* m68ksgs.h (ASM_OUTPUT_OPCODE): If SGS_SWAP_W, change swap to swap.w.
	* m68k.md: Delete all SGS_SWAP_W conditionals.

	* m68k.md (shift using swap, dbra patterns): Change clrw to clr%.w.

	* hp800.h (output_global_address): Use `-' for PLUS of neg integer.
	Clean up spacing and braces in several places in file.

	* byteorder.h (htons): Use unsigned int for arg type.

Sun Mar  8 07:36:44 1992  Richard Kenner  (kenner at vlsi1.ultra.nyu.edu)

	* rs6000.c (print_operand, case 'A'): New case.
	* rs6000.md (sri): New %A to use "sli" for count of zero to work
	around bug in RS/6000 assembler.

	* config.sub (os): Add "aos" to basic list, no longer the same
	as "bsd";  "acis" is an alternate for "aos".
	(romp): No longer has a default system.
	* configure (romp-*-aos*): Renamed from romp-*-bsd*; BSD means 
	real BSD (4.3 Tahoe+), AOS means IBM system.

	* Makefile.in (crtbegin.o, crtend.o): Use -o for output instead of
	putting in crtstuff.o and renaming to desired name.

	* reload1.c (reload): Re-check eliminability of registers on each
	reload pass.

	* jump.c (mark_jump_label): Make multiple REG_LABEL notes if
	more than one label is mentioned in an insn.

	* integrate.c (copy_rtx_and_substitute): Properly initialize
	const_equiv_map for the equivalents of AP and FP.

	* rs6000.h (TARGET_MEM_FUNCTION): Define.

Sun Mar  8 00:05:47 1992  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* c-decl.c (store_parm_decls): Copy function type before changing it.
	* tree.c (build_type_copy): New subroutine.

	* t-next (LIBGCC1): Assigned, instead of LIBGCC.

	* m68k.h (SHIFT_COUNT_TRUNCATED): Deleted.

Sat Mar  7 23:47:57 1992  James Van Artsdalen  (james at bigtex.cactus.org)

	* i386.md (xorsi3,xorhi3): Don't emit a byte opcode with an SImode
	operand.

Sat Mar  7 22:49:21 1992  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* c-typeck.c (convert_arguments): -Wconversion warning
	if argument is passed as float.
	For fixed arguments, warn if type passed doesn't match
	what default_conversion produces.

	* gcc.c (cross_compile): New variable, 1 if cross-compiling.
	(read_specs): Read it from specs.
	(process_command): Dump it to specs.

	* gcc.c (process_command): Don't use MD prefixes and
	standard_startfile_prefix* here.
	(main): Use them here, if not cross-compiling.

Sat Mar  7 18:13:45 1992  Richard Kenner  (kenner at vlsi1.ultra.nyu.edu)

	* reload1.c (reload_as_needed): Eliminate regs in (use (mem ..))
	and (clobber (mem ...)) insns.

	* combine.c (distribute_notes): Fix minor bug in handling of
	multi-register values when only one part is used.

	* optabs.c, expr.c: Always call emit_library_call with no_queue == 1.

	* function.c (fix_lexical_addr): Correctly set BASE in non-separate
	AP case.

Sat Mar  7 15:39:57 1992  Jyrki Kuoppala  (jkp@batman.cs.hut.fi)

	* ns32k.h (TRANSFER_FROM_TRAMPOLINE): changed "ret" to "ret 0"

Sat Mar  7 15:41:46 1992  David J. MacKenzie  (djm@nutrimat.gnu.ai.mit.edu)

	* fixincludes: Don't do special fixes on signal.h, which were only
	needed because of #endif comment fixes.

Sat Mar  7 15:11:50 1992  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* m68k.h (ASM_OUTPUT_ALIGN): Don't crash if LOG is more than 1.

	* varasm.c (decode_reg_name): Make various prefixes optional
	whether or not they are in REGISTER_NAMES.
	(strip_reg_name): New subroutine.

	* i386.c: Fatal error if EXTRA_CONSTRAINT is defined.

	* collect2.c [USG] (R_OK, W_OK, X_OK): Define them if missing.

	* x-hp320g (RANLIB, RANLIB_TEST): Defined.

	* Makefile.in (EXTRA_PROGRAMS): New variable is list of programs.
	(native): Build them.  Don't build EXTRA_PARTS.
	(rest.encap): Build EXTRA_PARTS.
	(GCC_PARTS): Include EXTRA_PROGRAMS.
	(install-common): Build EXTRA_PROGRAMS.
	* t-convex (EXTRA_PROGRAMS): Define instead of EXTRA_PARTS.

	* Makefile.in (distclean): Don't delete backups, etc.
	(extraclean): New target--delete those things here.
	(gcc.xtar): Use extraclean.
	(cleanconfig): Deleted.
	(realclean): Depend on distclean.

Sat Mar  7 14:54:29 1992  Tom Wood  (wood@dg-rtp.dg.com)

	* genattrtab (attr_printf): Provide alternate based on HAVE_VPRINTF.

Sat Mar  7 14:25:58 1992  Torbjorn Granlund  (tege@hal.gnu.ai.mit.edu)

	* hp800.c (secondary_reload_class): Change `=' to `==' in `if'.

Sat Mar  7 13:25:17 1992  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* cccp.c (do_line): Fix typo.

	* configure (decoding args): Delete excess fi.

Sat Mar  7 09:29:41 1992  Michael Meissner  (meissner@osf.org)

	* mips.h (CONST_COSTS): Complete last change.

	* mips.md (movsi_ulw, movsi_usw): Complete last change.

Sat Mar  7 07:28:03 1992  Tom Wood  (wood at dg-rtp.dg.com)

	* config.sub (*-dolphin, -triton*): New vendor/OS.
	* configure (m88k-dolphin-trition): New alternative.
	* m88kdolph.h: New file.
	* xm-m88kdolph.h: New file.

Sat Mar  7 10:07:44 1992    (Eric Youngdale at youngdale@v6550c.nrl.navy.mil)

	* make-l2.com: Do not allow the user to run this with gcc 1.nn.

	* make-gcc.com: Use the new compiler to build libgcc2.c (through 
	  make-l2.com).

Sat Mar  7 05:36:16 1992  K. Richard Pixley  (pixley@nutrimat.gnu.ai.mit.edu)

	* Makefile.in: added the exec_prefix variable for installing host
	  dependent programs and libraries.

Sat Mar  7 00:09:50 1992  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* genextract.c (mybzero): New fn.  Used instead of bzero.

	* Makefile.in (all): Indirect to all-internal.
	(all-internal): New rule, following where cross-make gets inserted.

	* vms.h (SIZE_TYPE, PTRDIFF_TYPE, WCHAR_TYPE): Defined.

	* protoize.c: Don't declare fork or vfork.

	* i860.c (sfmode_constant_to_ulong): Use REAL_VALUE_FROM_CONST_DOUBLE.

	* gcc.c (handle_braces): Verify actual suffix length matches
	desired.

	* hp800.h (GO_IF_LEGITIMATE_ADDRESS): Add parens for clarity.

	* c-typeck.c (pointer_int_sum): Handle intop which is sum or diff
	of arguments with different types.

	* c-typeck.c (PUSH_SPELLING): If no buffer yet, use xmalloc.

	* m68k.c (output_dbcc_and_branch): Use \n\t between pair of insns.

	* sparc.h (TARGET_MEM_FUNCTIONS): Defined.

Fri Mar  6 18:48:03 1992  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* gbl-ctors.h (DO_GLOBAL_CTORS_BODY): Don't call ON_EXIT here.
	* crtstuff.c, libgcc2.c (__do_global_ctors): Call it here.

	* i386sco.h (HAVE_ATEXIT): Defined.

	* collect2.c (my_exit, main): Avoid dereferencing 0.

	* stmt.c (expand_decl_init): Don't alter TREE_USED of the variable.

Fri Mar  6 18:24:39 1992  Richard Kenner  (kenner at vlsi1.ultra.nyu.edu)

	* mot3300.h (SIZE_TYPE): Define as "unsigned int".

	* combine.c (make_extraction): STRICT_ALIGNMENT is now non-zero if
	true, instead of relying on whether it is defined or not.
	* c-typeck.c, cp-typeck.c (build_c_cast): Likewise.
	* stor-layout.c (layout_type) Likewise.
	* expr.h (MUST_PASS_INSTACK_BAD_ALIGN): Likewise.
	* expr.c: Set default value of SLOW_UNALIGNED_ACCESS to zero.
	(move_by_pieces, move_by_pieces_ninsns, emit_push_insn):
	SLOW_UNALIGNED_ACCESS and STRICT_ALIGNMENT now true if non-zero.
	* function.c (assign_stack_local, assign_outer_stack_local):
	Remove turned-off code using STRICT_ALIGNMENT.
	* config/*.h: Change representation of STRICT_ALIGNMENT and
	SLOW_UNALIGNED_ACCESS.
	* gmicro.h (SLOW_UNALIGNED_ACCESS): Set to 1.

	* Makefile.in (cleanconfig): Remove obsolete reference to
	file aux-output2.c.

	* c-lex.c (yylex): Don't make out-of-range shift for very wide chars.

Fri Mar  6 18:07:00 1992  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* toplev.c (compile_file): No -Wunused warnings for static vars.

	* collect2.c (main): Don't handle -B, -b, -V, -m or -f.
	collect2 gets only the options that ld would get.
	Process COLLECT_GCC_OPTIONS envvar.
	(savestring): New function.

	* genattrtab.c: Revert to previous version
	because the new one uses vsprintf and it isn't trivial
	to avoid it.

Fri Mar  6 17:26:09 1992  Tom Wood  (wood at dg-rtp.dg.com)

	* m88k.md (<O5> expressions): Don't rely on the assembler being able
	to handle constant expressions (Dolphin Triton88 can't).

	* genattrtab.c: Add a hash table mechanism to share RTL and strings.
	(attr_hash_add_rtx, attr_hash_add_string): New functions.
	(attr_rtx): New function to generate a shared RTL.
	(attr_printf, attr_printf): New functions to generate a shared string.
	
	* genattrtab.c: Extend the treatment of DEFINE_ATTR to allow a CONST
	expression as the default value, indicating a constant attribute.
	(struct attr_desc): Add `is_const' field.
	(check_attr_test): Add `is_const' parameter.  Disallow use of insn
	attributes and MATCH_OPERAND in a constant expression; allow
	SYMBOL_REF in a constant expression.  All callers updated.
	(chech_attr_value): Allow a SYMBOL_REF as a constant expression.
	(convert_const_symbol_ref): New function that converts a constant
	SYMBOL_REF to a COND that explictly tests each value.
	(make_canonical): Use `convert_const_symbol_ref' for constant
	SYMBOL_REF expressions.
	(make_length_attrs, find_attr, make_internal_attr): Mark `is_const'
	as false.
	(gen_attr): Get rid of a top-level CONST node and mark `is_const' true.
	(walk_attr_value): Use of a constant SYMBOL_REF does not set
	`must_extract' or `must_constrain'.
	(write_attr_get): Deal with constant attributes.

Fri Mar  6 16:14:27 1992  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* cccp.c (main, path_include) [__MSDOS__]: Handle MSDOS syntax in path.

	* expr.c (store_expr): Fix bugs in last change.

	* objc-actions.c (receiver_is_class_object): Fix typos.

	* ecoff-cmp: File deleted.

	* config.sub (3b1): Convert to m68000, not m68k.

	* cccp.c (do_line): Handle "syetem header" indicator flag `3'.

	* t-i386isc: New file.
	* configure (i386-*-isc*): Use the new file.
	* i386isc.h (LIB_SPEC, ENDFILE_SPEC): Use crtbegin.o/crtend.o.

Fri Mar  6 14:37:25 1992  Torbjorn Granlund  (tege@hal.gnu.ai.mit.edu)

	* expmed.c (expand_dec): Fix comment.

Fri Mar  6 09:49:54 1992  Tom Wood  (wood at dg-rtp.dg.com)

	* m88k.c (emit_move_sequence): Check reload_in_progress in
	addition to reload_completed.

	* m88k.md (cpu attribute): Fix.

Fri Mar  6 06:24:08 1992  Michael Meissner  (meissner@osf.org)

	* mips.h (CONST_COSTS): Fix eliminate_constant_term calling
	sequence.

	* mips.c (simple_memory_operand): Move offset variable for calling
	eliminate_constant_term into a local block by the call.
	(mips_address_cost): Ditto.

	* mips.md (movsi_ulw, movsi_usw): Fix eliminate_constant_term
	calling sequence.

Fri Mar  6 00:30:10 1992  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* fixincludes: Don't fix comments on #endif, #else.
	It made the egrep string too long.

	* expr.c (store_expr): Handle size mismatch copying from string cst.

Thu Mar  5 22:11:03 1992  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* objc-actions.c (receiver_is_class_object): Clean up syntax.

	* sun386.h (ASM_GENERATE_INTERNAL_LABEL): Start with a star.

	* reload1.c (reload): Change `=' to `==' in `if'
	inside REGISTER_CONSTRAINTS conditional.

Thu Mar  5 21:29:33 1992  Michael Tiemann  (tiemann@mole.gnu.ai.mit.edu)

	* cp-parse.y (yyprint): Make declarations declare __inline
	consistently.

Thu Mar  5 18:34:32 1992  Jeffrey A. Law  (law@mole.gnu.ai.mit.edu)

	* m68k.md (dbra patterns): Fix NO_ADDSUB_Q ifdef conditionals.
	Fix location of comment regarding use of REG_NOTES in dbra insns.

Thu Mar  5 18:30:55 1992  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* Makefile.in (libgcc.a): If $(LIBGCC1) is empty, ignore it.
	* cross-make (LIBGCC1): Make definition empty.

Thu Mar  5 17:48:38 1992  Torbjorn Granlund  (tege@wombat.gnu.ai.mit.edu)

	* reload.c (find_reloads): Correctly detect different operand
	constraint alternatives (by changing subscription from 0 to loop
	variable i).

Thu Mar  5 16:58:38 1992  Tom Wood  (wood at dg-rtp.dg.com)

	* Makefile.in (libsubdir): Rename $(libdir)/gcc gcc-lib.
	* gcc.c (STANDARD_EXEC_PREFIX): Ditto.

	* c-typeck.c: Implement a spelling stack to store and print
	compoment names for error messages.

	(push_{string,member_name,array_bounds}): New functions.
	(SPELLING_DEPTH, RESTORE_SPELLING_DEPTH, SAVE_SPELLING_DEPTH): New
	macros to save and restore the spelling stack.
	(digest_init, process_init_constructor): Use these.

	(spelling_length, print_spelling): New functions.
	(error_init, pedwarn_init): Use them.

	(get_spelling): New function.
	(convert_for_assignment): Use `get_spelling' to interpret messages
	that are based on the spelling stack.
	(process_init_constructor): Pass `&initialization_message'.

Thu Mar  5 15:22:22 1992  Jim Wilson  (wilson@wookumz.gnu.ai.mit.edu)

	* expr.c (init_expr): Initialize forced_labels to zero.
	(save_expr_status): Saved forced_labels away and initilize to
	zero.
	(restore_expr_status): Restore value of forced_labels.
	* function.h (struct function): Add forced_labels field.
	* integrate.c (function_cannot_inline_p): Reject function with
	nonzero forced_labels.

Thu Mar  5 15:08:47 1992  Tom Wood  (wood at dg-rtp.dg.com)

	* regclass.c (fix_register): Use decode_reg_name.
	* stmt.c (expand_asm_operands): Ditto.
	* varasm.c (decode_reg_name): Ignore a leading '#'.

	For RMS:
	* cp-call.c (build_method_call): Delete now redundant tests of
	TREE_EXTERNAL before calls to assemble_external.
	* cp-init.c (build_virtual_init, build_builtin_call): Ditto.
	* cp-method.c (hack_identifier): Ditto.
	* cp-typeck.c (build_component_ref, build_function_call_real): Ditto.
	* c-parse.y (primary): Ditto.

Thu Mar  5 13:49:29 1992  Jeffrey A. Law  (law@wombat.gnu.ai.mit.edu)

	* expr.c (move_by_pieces_ninsns): Finish Mar. 4 change.  Do not
	choose a mode which has a size greater than MOVE_MAX.

	* m68k.c: Change all occurances of "mov." to "move%.l" so that
	ASM_OUTPUT_OPCODE can choose the right syntax.
	* m68k.md: Change "mov." to "move." in comments for consistency.

Thu Mar  5 10:04:52 1992  Tom Wood  (wood at dg-rtp.dg.com)

	* stmt.c (warn_if_unused_value): Handle NON_LVALUE_EXPR.

	* limits.h (_LIMITS_H_): Correct misspellings.

	* Makefile.in ("if" and "["): Romp, 4.3 BSD, and Ultirx systems
	fail when the condition is false.  Change troublesome instances to
	either use "case" or use '-' as a prefix to the compilation rule.

Thu Mar  5 09:08:11 1992  Richard Kenner  (kenner at vlsi1.ultra.nyu.edu)

	* rs6000.md (lshrdi3): Add earlyclobber to first alternative.

	* explow.c (stabilize): Copy RTX_UNCHANGING_P and MEM_VOLATILE_P.

Thu Mar  5 06:05:31 1992  Michael Tiemann  (tiemann@cygnus.com)

	* cp-parse.y (.pushlevel): Stack and unstack STMT_DECL_MSG.

	* cp-parse.y (unary_expr): Add EXTENSION support.
	({maybe_label,label}_decls, label_decl): Define these rules as from
	c-parse.y.
	* cp-decl.c ({lookup,shadow,define}_label): Update from c-decl.c.
	* gplus.gperf: Add EXTENSION and LABEL.
	* cp-hash.h: Remade using gperf.

Wed Mar  4 21:38:41 1992  Jeffrey A. Law  (law@wombat.gnu.ai.mit.edu)

	* expr.c (move_by_pieces): Do not choose a mode which has a size
	greater than MOVE_MAX.

Wed Mar  4 23:24:25 1992  Per Bothner  (bothner@cygnus.com)

	* cp-class.c, cp-decl.c, cp-decl2.c, cp-init.c, cp-lex.c,
	cp-method.c, cp-typeck.c:  Casts from enum to int that
	are necessary (not alas not quite sufficient) to get
	cc1plus to compile using system cc on Sony NewsOS 3.2
	(presumably Portable C Compiler).

Wed Mar  4 22:05:39 1992  Michael Tiemann  (tiemann@cygnus.com)

	* cp-type2.c (build_functional_cast): Fix typo in code searching
	down type lattice looking for constructor.

Wed Mar  4 16:52:21 1992  Jim Wilson  (wilson@cygnus.com)

	* gstdarg.h: Include va-sparc.h on sparc systems.  Delete now
	obsolete `#ifndef __sparc__'.
	* va-sparc.h (va_start): Provide alternate definition when
	included via stdarg.h.  Delete obsolete comment.
	(va_arg): Add missing set of parentheses.

Wed Mar  4 15:21:20 1992  David J. MacKenzie  (djm@wookumz.gnu.ai.mit.edu)

	* fixincludes: Make egrep pattern more general.  Check for
	additional special case problems in Ultrix, News-OS, and IRIX.

Wed Mar  4 15:15:45 1992  James Van Artsdalen  (james at bigtex.cactus.org)

	* i386.c (function_epilogue): Don't make a special case for
	current_function_returns_struct: this is done via
	current_function_pops_args.

	* sun386.h (DATA_SECTION_ASSM_OP): Fix typo in undef.

Wed Mar  4 14:21:37 1992  David J. MacKenzie  (djm@wookumz.gnu.ai.mit.edu)

	* fixincludes, fixinc.svr4: Only change #else and #endif at the
	beginnings of lines, aside from whitespace, so it doesn't change
	them within comments. 

Wed Mar  4 09:48:21 1992  Michael Tiemann  (tiemann@mole.gnu.ai.mit.edu)

	* cp-method.c (build_decl_overload): Braino in handling of DELETE
	(NEW was handled correctly).

Wed Mar  4 09:14:57 1992  Jeffrey A. Law  (law@wombat.gnu.ai.mit.edu)

	* Makefile.in (install-man): Install the g++ manual page.

	* m68k.md (dbCC peepholes): Two new peepholes to recognize cases
	where a compare/branch can be done (for free) as part of a dbCC
	insn.  This turns jCC;dbf into dbCC;jCC (the jCC is now outside the
	inner part of the loop).

	* m68k.c (valid_dbcc_comparison_p): New function which returns TRUE
	if the given comparison is a valid comparison operator for the dbCC
	instruction.
	(output_dbcc_and_branch): New function to output a dbCC;jCC
	instruction sequence (including possible counter adjustments in
	SImode)

Wed Mar  4 04:32:11 1992  Michael Tiemann  (tiemann@cygnus.com)

	* cp-dem.c (optable): Add entry for `operator='.

	* cp-decl.c (finish_function): Emit a jump to RETURN_LABEL if
	CLEANUP_LABEL is non-zero.  (Suggested by niklas@appli.se)

Wed Mar  4 04:28:10 1992  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* libgcc1.c (perform_lesf2): Condition tested was backwards.

Wed Mar  4 03:11:48 1992  Ken Raeburn  (Raeburn@Cygnus.COM)

	* cp-pt.c (overload_template_name): Extra pushlevel isn't needed;
	omit it.
	(undo_template_name_overload): Don't pop the level that isn't pushed
	any more.

	* cp-class.c (pushclass): Don't bother processing unnamed tags.
	(popclass): Likewise.

	* cp-init.c (build_vec_delete): If pointer is null, don't do
	anything.

	* cp-parse.y (member_init): Accept base class names that are
	template type names.

	* cp-decl.c (start_decl): Don't prepend decl of `this' to arg lists
	of methods of uninstantiated types.

	* cp-pt.c (instantiate_template): If no text has been saved away,
	don't try to parse it; an external reference will result.

	* cp-parse.y (yyprint): Declare this at head of file.

	* cp-pt.c (instantiate_class_template): If the template specified
	hasn't been defined, don't reject the instantiation; make it a
	normal undefined type.

	* cp-parse.y (template_def): Try to recover from errors more
	gracefully.

Tue Mar  3 15:37:35 1992  Tom Wood  (wood at dg-rtp.dg.com)

	* protoize.c (munge_compile_params): Compute the maximum number of
	params (`temp_parms' length) safely.

	* dwarfout.c (const_value_attribute): Punt quasi-constant values.
	(location_or_const_value_attribute): Ditto.

	* Makefile.in (install-common): Install the cross compilation
	driver program even when $(tooldir)/bin doesn't exist.

Tue Mar  3 14:39:55 1992  James Van Artsdalen  (james at bigtex.cactus.org)

	* i386.h (enum reg_class): Undo Jan 17 change that deleted class BREG.
	(REG_CLASS_NAMES,REG_CLASS_CONTENTS,REGNO_REG_CLASS): Likewise.
	(REG_CLASS_FROM_LETTER): Likewise.
	* i386.c (regclass_map): Likewise.

	* svr4.h (LINK_SPEC): Don't do -z or -t here: it's already in
	link_command_spec.  But do handle -G.

	* i386.md (casesi): Rewrite pattern to reflect the way to emitted
	code actually works.

Tue Mar  3 09:59:15 1992  Jeffrey A. Law  (law@super.super.org)

	* m68k.md (dbra pattern in HImode): New pattern to match
	decrement_and_branch insns when the loop counter is decremented in
	HImode.

Tue Mar  3 07:57:18 1992  Richard Kenner  (kenner at vlsi1.ultra.nyu.edu)

	* rs6000.md (doz patterns): Add missing `I' constraint.

	* reorg.c (mark_target_live_regs): A CALL_INSN livens all global regs.

	* vax.h (EXTRA_CONSTRAINT): New macro to select non-mode-dependent
	MEM operands.
	* vax.md (jlbc/jlbs): Use jbc/jbs if mode-dependent memory.
	* vax.c (reg_or_nxmem_operand): Function deleted.

	* expr.c (do_store_flag): Swap comparison code when putting
	constant arg second.

	* m68k.md (addhi3): Convert, e.g., 65535 to -1 before seeing if
	we can use subqw.
	(addqi3): Similarly for QImode constants

	* local-alloc (optimize_reg_copy_1): Renamed from optimize_reg_copy.
	(optimize_reg_copy_2): New function.
	(update_equiv_regs): Call optimize_reg_copy_[12].

	* combine.c (make_compound_operation, case AND): Turn SUBREG case
	back on now that bug in i386.md has been fixed.
	(simplify_comparison, case ASHIFT): If shifting low-order bit to
	sign bit and doing equality comparison, convert to AND with low-order
	bit (inequality case was already handled).
	Also remove redundant test of CONST_OP in an earlier case.

	* sun2o4.h (LINK_SPEC): No longer need -Bstatic with -g.

	* m68k.c, m68k.h: Avoid %X% for most upper-case X since it means
	something special to SCCS.

	* rs6000.md (type): Add new type, mtlr.
	(function_unit branch): Add delay from mtlr to br.
	(movsi): When moving to lr, type is "mtlr".

	* unroll.c (reg_dead_after_loop): Check for infinite loop by
	counting JUMP_INSNs we follow.
	Use GET_RTX_CLASS, reg_referenced_p, and single_set.

	* expr.c (expand_increment): Set op0_is_copy when we are referencing
	the low-order part of some value in a register.

	* combine.c (force_to_mode): New arg REG; pass in recursive call.
	If X has the same value as REG, use REG.
	(make_field_assignment): Handle case when DEST and part of source
	aren't the same, but are equal; pass destination to force_to_mode.

	* m68k.md (addhi3): Generate addqw, subqw, or addw for
	STRICT_LOW_PART versions the same way we handle the normal case.
	(addqi3): Similarly for addqb, subqb, and addb.

	* genattrtab.c (write_test_expr, case MOD): Double `%' in printf call.
	(write_eligible_delay): Internal attribute "*delay_type" is always
	used literally; it has no suffix or prefix.
	
	* m68k.md, vax.md (sob): Rewrite inequality versions so that they
	have a PLUS inside the comparison; combine cannot remove the PLUS
	due to overflow considerations.

Tue Mar  3 07:56:30 1992  Eric Youngdale (youngdale at v6550c.nrl.navy.mil)

	* vms.h (L__main): Remove #include <stdio.h>

	* make-gcc.com: Call make-l2.com.

Tue Mar  3 05:37:08 1992  Michael Tiemann  (tiemann@cygnus.com)

	* stor-layout.c (layout_type): Handle OFFSET_TYPE.
	* cp-tree.c (build_member_type): Deleted.
	* cp-typeck.c, cp-decl.c, cp-init.c: All callers of
	`build_member_type' now call `build_offset_type'.
	* cp-typeck.c (convert_arguments): An argument that's an OFFSET_REF
	must be resolved by `resolve_offset_ref'.  The OFFSET_REF case in
	expand_expr does not do the right thing for G++ yet.

	* cp-decl.c (grokdeclarator): Take CONSTP and VOLATILEP into account
	when building METHOD_TYPEs.
	(start_function): Ditto.

	* cp-method.c (build_decl_overload): Change interface to take DNAME
	instead of NAME.  Also, special-case handling of the default
	operator new and operator delete for the std. signatures.
	* cp-*.c: All callers changed.

	* cp-class.c (build_vtable_entry): Rewrite built-in limit check to
	work on platforms where SIZETYPE is unsigned.

Mon Mar  2 08:49:16 1992  Tom Wood  (wood at dg-rtp.dg.com)

	* m88k.c (m88k_debugger_offset): Delete warning.

	* m88k.h (OVERRIDE_OPTIONS): Set `m88k_cpu' based on `target_flags'.

	* m88k.md (cmpsi insn): Delete alternative that complements the
	compare string for a swapped compare (it's wrong and unnecessary).
	(cpu attribute): Define.

	From Jyrki Kuoppala:
	* pc532.h, pc532-mach.h, pc532-min.h, xm-ps532-min.h: New files.
	* configure (ns32k-pc532-mach*, ns32k-pc532-minix*): New alternatives.

	* dbxout.c (dbxout_type): Don't invoke dbxout_type_methods if
	there are none.

	* vax.c (print_operand_address): Allow REG+TERM.

	* c-typeck.c (process_init_constructor): Reuse space for error
	message strings.

Mon Mar  2 02:54:48 1992  James Van Artsdalen  (james at bigtex.cactus.org)

	* seq386gas.h: New file, for Sequent using 386 & GAS.

	* xm-i386sco.h: New file.

	* optabs.c (ldexp): New function.  Used if host ldexp() is broken.

	* configure (i386-sequent-bsd*): Use seq386gas.h if --gas.
	(i386-*-sco*): The host file is now xm-i386sco.h.

	* i386.md (SImode and HImode logical compare): If we are only
	testing one byte of a mem, use a byte test opcode.
	(bit test patterns): Likewise when emitting test opcodes.

Sun Mar  1 14:47:31 1992  Torbjorn Granlund  (tege@hal.gnu.ai.mit.edu)

	* longlong.h (_IBMR2 udiv_qrnnd): Switch off due to overflow problems.

Sun Mar  1 11:19:55 1992  Richard Kenner  (kenner at vlsi1.ultra.nyu.edu)

	* combine.c (force_to_mode): New function.
	(make_field_assignment): Rework code that handles fixed-position
	fields to make it both much more general and much simpler.

	* m68k.md: Add missing insns for using byte operations with
	STRICT_LOW_PART; add was missing commutative equivalent and
	most operations other than add and subtract were missing.

	* varasm.c (assemble_start_function): Add missing arg to call to
	dbxout_begin_function.

	* fold-const.c (const_binop): Make minor source change to work
	around bug in IBM RT PC compiler.

Sun Mar  1 05:01:34 1992  Michael Tiemann  (tiemann@rtl.cygnus.com)

	* cp-typeck.c (build_modify_expr): When wrapping NEWRHS in a
	SAVE_EXPR, call `break_out_cleanups' first.

Sat Feb 29 23:19:20 1992  Jim Wilson  (wilson@cygnus.com)

	* reload.c (find_reloads): Reset preferred_class to NO_REGS after
	substituting a reg_equiv_address for a pseudo reg.

	* unroll.c (precondition_loop_p): Fix misplaced paren when checking
	for MODE_FLOAT rtx.

Sat Feb 29 13:59:54 1992  Michael Tiemann  (tiemann@cygnus.com)

	* cp-typeck.c (build_modify_expr): To complete 24 Feb change,
	COND_EXPRs must evaluate LHS in conditional slot if LHS has side
	effects.  Otherwise the SAVE_EXPRs in lhs will only be evaluated
	once, even though they are referenced on both branches of the
	conditional.

Sat Feb 29 13:32:35 1992  David J. MacKenzie  (djm@nutrimat.gnu.ai.mit.edu)

	* README.X11: Add warning to not use gas when compiling PIC code.

	* fixincludes: Allow TAB as well as SPC before symbols to change.
	Don't change "sun" if it's part of a multiword name that contains
	underscores.
	Make intermediate dir, if needed, when doing special-case fixes.
	Use previously fixed file, if it exists, as source for all special
	fixes.  Do less copying when making special fixes.
	Ignore errors when chmod'ing a file that might not exist.
	* fixinc.svr4: Preserve whitespace around "#" when fixing #else and
	#endif.
	Allow TAB as well as SPC before symbols to change.
	Combine "sun" cases as in fixincludes.

Sat Feb 29 11:10:55 1992  James Van Artsdalen  (james at bigtex.cactus.org)

	* i386.md (movstrsi): Print opcode as "movsl" so that seq386.h can
	change it into smovl.

Sat Feb 29 09:15:51 1992  Richard Kenner  (kenner at vlsi1.ultra.nyu.edu)

	* function.c (expand_function_end): Allocate rtl that points to
	trampoline permanently.

	* reload1.c (gen_input_reload): If one operand of a PLUS is a MEM,
	move it into a reg and add the other (makes code agree with comments).

	* explow.c (eliminate_constant_term): Rework so it does not directly
	add integer values; call simplify_binary_operation instead.
	Second arg is now pointer to rtx, not int.
	Assume constant is always second operand of PLUS.
	(memory_address): Pass rtx pointer to eliminate_constant_term.
	* halfpic.c (half_pic_address_p): Likewise.
	* mips.c (simple_memory_operand, mips_address_cost): Likewise.
	(mips_debugger_offset): Likewise.
	* expr.c (expand_expr, case PLUS_EXPR): Likewise.
	Don't add INTVALs; use simplify_binary_operation instead.
	Remove obsolete OLD_INDEXING code.
	Put a MULT in the first operand of the PLUS.

	* combine.c (combinable_i3pat): Don't combine if I3DEST is a hard
	reg in a non-valid mode.

Sat Feb 29 09:14:19 1992  Eric Youngdale (youngdale@v6550c.nrl.navy.mil)

	* vms.h (ASM_OUTPUT_COMMON): Use SIZE instead of ROUNDED bytes.
	(DO_GLOBAL_CTORS_BODY): Do not call fflush(stdout).

	* gcc.texi: Update GLOBAL[DEF,REF,VALUE] documentation.

	* make-l2.com: Remove call to test_gcc2.

Sat Feb 29 02:52:59 1992  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* cccp.c (main): Rename envvars to CPLUS_INCLUDE_PATH and
	OBJCPLUS_INCLUDE_PATH.

	* m68k.h (TRANSFER_FROM_TRAMPOLINE): Use `move', not `mov'.

Fri Feb 28 19:39:09 1992  David J. MacKenzie  (djm@wookumz.gnu.ai.mit.edu)

	* fixincludes: Don't change symbols that already start with `_'
	into `__symbol__'.  Merge all of the sun* substitutions so they
	don't fight each other.
	Comment out junk after #elses and #endifs, to prevent warnings
	when -pedantic is given.

Fri Feb 28 13:42:05 1992  Jim Wilson  (wilson@cygnus.com)

	* sched.c (schedule_insns): Don't update value of reg_live_length
	when it is negative, because negative values are special.  Earlier
	fix Dec 17 disabled the fprintf call, but not the assignment.

	* unroll.c (copy_loop_body): After incrementing the base reg for a
	split DEST_ADDR giv, must subtract the const_adjust from the base
	reg to get its true current value.

	* loop.c (maybe_eliminate_biv_1): When handling COMPARE, verify
	that mult_val is positive, which makes the code match the comment,
	and surrounding code.

	* sparc.c (legitimize_pic_address): Always test reload_completed
	in addition to reload_in_progress.

	* sched.c (schedule_block): Don't reorder any USE insns at the end
	of a function.  Exclude them all from scheduling.

	* c-typeck.c (build_array_ref): Check for when `ar' is an
	error_mark_node and don't emit a second error message for that node.

	* Makefile.in: Correct misc typos in comments or spacing.
	(mostlyclean): Update names of files to delete.

	* Makefile.in (install-man): Also install cccp man page.
	(uninstall): Also delete cccp man page.  Don't delete protoize and
	unprotoize man pages twice.

	* Makefile.in (libgcc2.a): Delete unnecessary -fstrength-reduce -O
	flags on gcc command lines, superseded by LIBGCC2_CFLAGS.

	* Makefile.in (config.status): Verify that file does not exist
	before printing an error and failing.  Prevents problem with Sun's
	KEEP_STATE feature.

Fri Feb 28 05:15:58 1992  Richard Kenner  (kenner at vlsi1.ultra.nyu.edu)

	* stmt.c (expand_computed_goto): Call emit_queue.

	* function.c (assign_parms): Don't generate convert whose operand
	is register that is not valid in its mode.

	* reload.c (find_reloads_toplev): Don't do anything with paradoxical
	SUBREGs if BYTE_LOADS_ZERO_EXTEND.

Thu Feb 27 09:59:09 1992  Jeffrey A Law  (law at b115.super.org)

	* toplev.c (main): Enable caller-saves for all machines at
	optimization levels of -O2 or higher.
	* mips.h (OPTIMIZATION_OPTIONS): toplev.c will turn on
	caller-saves at -O2 now.  Do not do it here.
	* sparc.h (OPTIMIZATION_OPTIONS): Likewise

Thu Feb 27 06:47:31 1992  Richard Kenner  (kenner at vlsi1.ultra.nyu.edu)

	* cp-call.c: Move some extern declarations to file level.

	* emit-rtl.c (init_emit_once): Cast VOIDmode to int in array index.

	* reorg.c (mark_target_live_regs): Don't make recursive call if
	function being compiled has infinite loop.

	* cse.c (fold_rtx, case 'o'): New case to support folding LO_SUM.

	* global-alloc.c (global_alloc): When calling reload, pass the
	result of get_insns instead of basic_block_head[0].

	* c-typeck.c (process_init_constructor): Don't check array index
	against limits if array bounds weren't specified.

	* gcc.c (link_command_spec): Put back -s.

	* gcc.c (find_a_file): Add missing paren in init of file_suffix.

	* i386sun.h (LIB_SPEC): Insert missing blank.

	* sun386.h (TEXT_SECTION_ASM_OP, DATA_SECTION_ASM_OP): Add #undef.

	* sparc.h (LINK_SPEC): Correct comment.

	* sun3.h, i386sun.h (LINK_SPEC): Don't force -Bstatic if -g.

	* mips-news.h (ASM_SPEC): Add missing "}".

	* Makefile.in (install-native): Don't include install-proto.
	(.y.c): Suppress default rule for using Yacc.

	* combine.c (apply_distributive_law, case SUBREG): Check that word
	numbers are the same.
	Don't change a single-word operation into a multi-word operation.
	Put all checks on SUBREGs in one place.
	(gen_lowpart_for_combine): Use correct word number when making
	explicit SUBREG.

	* README.SCO: Obsolete file deleted.

Wed Feb 26 21:23:02 1992  Jim Wilson  (wilson@cygnus.com)

	* sparc.md (DImode sethi): Correctly handle CONST_DOUBLE, was
	wrong endian.
	(DImode lo_sum): Don't output CONST_DOUBLES as 64 bit constants,
	just output the low 32 bits.

	* unroll.c (find_splittable_givs): For combined address givs, save
	the increment amount in add_val.
	(copy_loop_body): For combined address givs, increment by the
	amount calculated by find_splittable_givs, not by the amount that
	the giv it was combined with gets incremented by.

	* expr.c (clear_pending_stack_adjust): Check flag_no_inline, not
	optimize, to determine whether functions declared inline will be
	inlined.

	* dbxout.c: Delete all #ifndef DBX_DEBUGGING_INFO stubs.  None of
	them are needed.

	* hp800.c, hp800.h: Fix typos in comments.

Wed Feb 26 02:39:52 1992  Michael Tiemann  (tiemann at rtl.cygnus.com)

	* cp-call.c (build_method_call): If conversion of INSTANCE_PTR
	yields error_mark_node, return error_mark_node immediately.

Tue Feb 25 23:40:01 1992  Mike Stump  (mrs at cygnus.com)

	* tree.c (array_type_nelts): Fix documentation, really nelts-1
	* cp-tree.c cp-tree.h cp-init.c (expand_vec_init): Fixed
	multi-dimensional array inits.

Mon Feb 24 00:03:23 1992  Michael Tiemann  (tiemann at cygnus.com)

	* cp-tree.c (build_cplus_new): Set TREE_SIDE_EFFECTS bit on
	NEW_EXPR.

	* cp-typeck.c (build_modify_expr): Handle WITH_CLEANUP_EXPRs
	specially when they appear in expressions (not initializations).
	Also handle COND_EXPRs on the right-hand-side specially (in case one
	of the COND_EXPR's branches is a WITH_CLEANUP_EXPR).

Sun Feb 23 15:11:27 1992  Michael Tiemann  (tiemann at cygnus.com)

	* cp-decl2.c (finish_anon_union): Make RTL for ANON_UNION_DECL based
	on MAIN_DECL.

	* cp-decl.c (lookup_tag): Deal with the fact that `clear_anon_tags'
	may have been run.

	* cp-decl.c (cplus_expand_expr_stmt): Give line number for usage
	whcih incurs warning message.

Sat Feb 22 02:09:55 1992  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* Version 2.0 released.

	* gcc.c (do_spec_1): Handle SPACE_AFTER_L_OPTION.
	* hp320.h (SPACE_AFTER_L_OPTION): Defined.
	Note: for 2.1, try making a space there on all systems.

	* i386mach.h (perform_*): New macros, copied from i386rose.h.

	* Makefile.in (distclean): New target.
	(realclean): Avoid duplication with self or with distclean.
	(gcc.xtar.Z): Depend on gcc.xtar.
	(gcc.xtar): Fixes in copying files.

	* expr.c (do_store_flag): Don't correct CODE before where it is set.

	* cp-parse.y (stmt): Pass pushcase_range all the args it wants.

Fri Feb 21 18:14:52 1992  Richard Kenner  (kenner at vlsi1.ultra.nyu.edu)

	* combine.c (distribute_notes): Correctly handle the case of a
	REG_DEAD note for a multi-word hard register when not all of
	the words are used.

Fri Feb 21 16:47:32 1992  Michael Meissner  (meissner@osf.org)

	* mips.h (MIPS_VERSION): Change Meissner version # to 12.
	(half_pic support): Move the halfpic support to halfpic.h which is
	included in the decrose case, and nop the support in other MIPS
	platforms.
	(OPTIMIZATION_OPTIONS): Move setting caller-saves to -O2.
	(OBJECT_FORMAT_COFF, EXTENDED_COFF): Define unless OSF/rose.
	(INITIAL_FRAME_POINTER_OFFSET): Always recalculate the frame size,
	don't rely on cached values.

	* mips.c (half_pic support): Move the halfpic support to halfpic.c,
	which is only compiled for OSF/rose.
	(expand_block_move): Use copy_addr_to_reg instead of copy_to_reg in
	case either the source or destination is an integer constant
	converted to an appropriate pointer type.
	(mips_debugger_offset): Use a local variable to hold function
	result.

	* decrose.h (toplevel): Include halfpic.h for halfpic support.
	(PTRDIFF_TYPE): Change to 'int' to match current include files.
	(WCHAR_TYPE): Change to 'unsigned int' to match include files.
	(INIT_SECTION_ASM_OP): Delete, since the OSF/rose assembler doesn't
	support a true initialization section.

	* encrose.h (PTRDIFF_TYPE): Change to 'int' to match current include
	files.
	(WCHAR_TYPE): Change to 'unsigned int' to match include files.

	* t-decrose (EXTRA_OBJS): Define as halfpic.o to provide halfpic
	support.
	(CONFIG2_H): Treat halfpic.h as another config file.
	(halfpic.o): Add dependencies.

	* halfpic.h (new file): Common include file for systems needing the
	OSF/rose half-pic shared library support.

	* halfpic.c (new file): Common support file for systems needing the
	OSF/rose half-pic shared library support.  Currently these are stub
	functions.

Fri Feb 21 01:34:08 1992  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* dwarfout.c (location_or_const_value_attribute): Use DECL_RTL again.
	Seems to be safer for the moment.
	* function.c (instantiate_decls): Don't instantiate DECL_INCOMING_RTL.

	* dwarfout.c (output_mem_loc_descriptor): Handle CONST like SYMBOL_REF.

	* collect2.c (errno): Declare if not macro.

	* dbxout.c [MIPS]: Include gstab.h, not stab.h.

	* dbxout.c (dbxout_symbol): No longer flush leading _ for C++ syms.

	* cp-parse.y (.hush_warning): Set $$.

	* gstdarg.h: Handle _HIDDEN_VA_LIST as in gvarargs.h.

Thu Feb 20 07:41:29 1992  Richard Kenner  (kenner at vlsi1.ultra.nyu.edu)

	* vax.c (reg_or_nxmem_operand): New function.
	(split_quadword_operands): Add missing return type (void).
	* vax.md (jlbc/jbc/jlbs/jbs): Handle QImode operands properly.

	* caller-save.c (set_reg_live): Use mode of SUBREG to see how many
	hard regs are written.

	* combine.c (simplify_shift_const, case IOR, AND, XOR): Perform
	logic computation in RESULT_MODE, not mode of VAROP.

Wed Feb 19 18:32:05 1992  Richard Kenner  (kenner at vlsi1.ultra.nyu.edu)

	* hp320.h (PRINT_OPERAND): Support codes '$' and '&'.

	* reload1.c (reload): Add cast of enum in index.

	* vms.h (CPP_PREDEFINES): Define __GNUC__ as 2.

Wed Feb 19 21:43:36 1992  Ron Guilmette  (rfg at ncd.com)

	* dwarfout.c (output_mem_loc_descriptor):  Deleted useless blank line.
	(output_mem_loc_descriptor) Added code to handle CONSTs in DECL_RTL
	expressions.
	(dwarfout_finish):  Added code to put a null string at the end of
	the terminating .debug_macinfo section.

Tue Feb 18 18:34:13 1992  Jim Wilson  (wilson at wookumz.gnu.ai.mit.edu)

	* cccp.c (main): Fix typo in comment or spacing.
	* dbxout.c (dbxout_block): Likewise.
	* expr.c (convert_move): Likewise.
	* reload1.c (emit_reload_insn): Likewise.
	* rtl.h (REG_NOTES): Likewise.
	* sun4o3.h: Likewise.
	* ultrix.h (CPP_PREDEFINES): Likewise.
	* toplev.c (flag_no_common): Likewise.
	* stmt.c (layout_type): Likewise.
	* gcc.c (is_linker_dir, lookup_compiler): Likewise.

	* sched.c (schedule_block): Comment code handling USE insns as
	obsolete.

Tue Feb 18 14:44:49 1992  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* c++: Run gcc in same dir as c++ was in, if exists there.
	Use `exec' to run it.
	New var `havefiles'; special message if no input files specified.
	Pass through any unrecognized options.

	* g++: Now a link to c++.

Tue Feb 18 04:54:52 1992  david d [zoo] zuhn  (zoo at lynx.spa.umn.edu)

	* protoize.c (main): added support for -p flag, to specify which
	gcc is the one to call for -fgen-aux-info support.

Tue Feb 18 07:29:23 1992  Richard Kenner  (kenner at vlsi1.ultra.nyu.edu)

	* combine.c (try_combine): Don't clobber OTHER_INSN's PATTERN if
	we aren't able to change the insn.

	* romp.md (bit_insv): Add missing CLOBBER when making pattern to
	match mftb; likewise for the DEFINE_INSN.

Tue Feb 18 01:03:41 1992  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* rs6000.h (bss_section): Set `in_section' correctly.

	* expmed.c (synth_mult): Count second shift for alg_compound.
	Count extra shift for lea case.
	* m68k.h (RTX_COSTS): Reduce cost of multiply.

	* function.c (instantiate_decls): Instantiate DECL_INCOMING_RTL.

Mon Feb 17 19:17:50 1992  Richard Kenner  (kenner at vlsi1.ultra.nyu.edu)

	* a29k.md (divmodsi4, udivmodsi4): Don't use reg 180 explicitly.
	Instead use 'q' constraint letter.

Mon Feb 17 16:15:02 1992  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* global-alloc.c (global_alloc): Always call `reload'.

Mon Feb 17 10:38:38 1992  Jim Wilson  (wilson at sphagnum.cygnus.com)

	* a29k.md (movdi define_split): Use DImode in operand_subword
	calls, not DFmode.

Mon Feb 17 08:20:33 1992  Michael Tiemann  (tiemann at mole.gnu.ai.mit.edu)

	* varasm.c (assemble_external): Check that DECL is some sort of
	_DECL before referencing its DECL_RTL.

Sun Feb 16 13:05:36 1992  Michael Tiemann  (tiemann at cygnus.com)

	* cp-call.c (build_method_call): Add call to `assemble_external' in
	case this is the first use of FUNCTION.
	* cp-class.c (build_vfn_ref): Ditto for VTBL.
	* cp-decl2.c (write_vtable_entries): Ditto for FN.
	* cp-init.c (build_offset_ref): Ditto for T.
	* cp-typeck.c (build_function_call_real): Ditto for FUNCTION.
	* cp-method.c (hack_identifier): Ditto for VALUE.  Also remove
	action that made call to `assemble_external' when !TREE_USED (VALUE).

	* cp-lex.c (do_identifier): Remove call to `assemble_external' when
	implicitly declaring ID.

	* cp-parse.y (primary): Simplify rules for calling assemble_external.

	* cp-decl.c (finish_function): For destructors, don't call
	expand_expr_stmt if EXPRSTMT is VOID_ZERO_NODE.

Sun Dec 16 23:31:54 1992  Ron Guilmette  (rfg at ncd.com)

	* dwarfout.c (fundamental_type_code):  Deleted gunk for handling
	OFFSET_TYPEs. (They are *not* fundamental types).
	(fundamental_type_code):  Fixed typo.
	(location_attribute, const_value_attribute):  Changed to take one
	rtx parameter rather than one tree parameter.
	(location_or_const_value_attribute):  Changed to use DECL_INCOMING_RTL
	rather than DECL_RTL for formal parameters.  Also changed calls to
	location_attribute and const_value_attribute to provide the rtl
	parameter.
	(fund_type_attribute):  Changed to accept an actual fundamental type
	code as a parameter directly.  Also changed all calls correspondingly.
	(type_attribute):  Separated tests for ERROR_MARK and for VOID_TYPE
	and added comments.
	(output_unspecified_parameters_die):  Changed to take one tree param
	and to generate *both* an AT_name and an AT_type attribute when the
	input parameter represents of function definition.  Also adjusted
	all calls correspondingly.

Sun Feb 16 00:54:10 1992  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* fixincludes: Add #ifndef around size_t declaration in types.h.

	* varasm.c (assemble_external): Do nothing if arg isn't a decl.

	* Makefile.in (cp-parse.c): Update "expect" msg.

	* next.h (CPP_SPEC): Rename -bsd to -strict-bsd.

	* Makefile.in (mostlyclean): Add ld, mips-tfile, mips-tdump.

	* protoize.c (directory_specified_p): Don't match files in subdirs.

	* xm-rs6k-m.h: Renamed from xm-rs6000-mach.h.
	* configure (rs6000-*-mach*): Changed accordingly.

	* collect2.c (handler): No error msg here.  Just resend signal.
	(write_c_file): Arg to write_list... is pointer.
	(do_wait): Fix typo.
	(scan_prog_file for non-OSF): Preserve all underscores.

	* Makefile.in (install-collect2): Install gcc in libsubdir.

Sat Feb 15 15:26:03 1992  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* varasm.c (decode_reg_name): Empty string is not a reg number.

	* fold-const.c (merge_component_references): NE tests against
	mismatched constants forces 1, not 0, as value.

	* i386gas.h (ASM_OUTPUT_OPCODE): Convert repz to repe.

	* collect2.c: Get rid of PROTO macro; use non-prototype decls.
	Don't include gstddef.h (had conflicts).  Use gstdarg.h, not stdarg.h.
	(xcalloc, xmalloc): Add casts.
	(do_wait): Avoid macros WTERMSIG, WEXITSTATUS missing on some machines.

	* cp-typeck.c (default_conversion): Don't use initial value if BLKmode.

	* objc-actions.c (finish_objc): Fix typos in last change.

	* c-aux-info.c, dbxout.c, cccp.c (errno): Declare, if not a macro.

	* i386.md (QI bit test recognizer): Split into separate patterns
	for memory and register args.  Make a scratch reg for memory.

Fri Feb 14 23:39:58 1992  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* tree.c (get_identifier): Improve -Wid-clash message.

Fri Feb 14 16:22:48 1992  Michael Collison  (collison at osf.org)

	* i386rose.h (CPP_SPEC): Define the macros LANGUAGE_OBJECTIVE_C and
	LANGUAGE_C_PLUS_PLUS if we are compiling Objective C or C++.
	(INIT_SECTION_ASM_OP): Define as .init.
	(CC1PLUS_SPEC): Define it.
	(LINK_LIBGCC_SPECIAL): Define this to work around linker bug.

Fri Feb 14 00:38:15 1992  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* Makefile.in (protoize.o, unprotoize.o): g++-include is under libdir.

	* Makefile.in (enquire.o): Make the command one long line.

	* gcc.c (do_spec_1): Omit relative prefixes from -L'ing
	only if RELATIVE_PREFIX_NOT_LINKDIR is defined.
	* rs6000.h (RELATIVE_PREFIX_NOT_LINKDIR): Defined.

	* varasm.c (assemble_external): Test TREE_EXTERNAL.

	* jump.c (follow_jumps): If can't find chain end, return orig label

	* mot3300.h (PRINT_OPERAND): Always print 16 hex digits for a double.

	* objc-actions.c (build_module_descriptor) [NEXT_OBJC_RUNTIME]: Ret 0.
	(finish_objc): Value 0 from build_module_descriptor means no ctor.
	When referencing a class_name symbol, don't output a .globl for it.
	(finish_objc): Put artificial refs in text section.

	* cccp.c (pedwarn_with_file_and_line): Handle -w, -W.

Fri Feb 14 07:44:08 1992  James Van Artsdalen  (james at bigtex.cactus.org)

	* i386.c (notice_update_cc): sCOND opcodes don't change the flags.
	Don't record test or compares involving stack-like regs, since
	final can't omits tests or compares involving such regs correctly.

	* i386.c (seq,sne,beq,bne): These opcodes use the state of
	cc_status from before the curren insn.

	* reg-stack.c (stack_reg_mentioned_p): Don't make static.

Fri Feb 14 06:27:48 1992  Richard Kenner  (kenner at vlsi1.ultra.nyu.edu)

	* jump.c (jump_optimize): Disable "if (...) {... x = C;} if (x) ..."
	optimization; there doesn't seem to be a way to fix it.

Thu Feb 13 18:06:06 1992  James Van Artsdalen  (james at bigtex.cactus.org)

	* seq386.h (ASM_OUTPUT_OPCODE): New macro. Change "movs" into
	"smov" at the start of a string move mnemonic - Sequent as(1)
	doesn't handle the former.

Thu Feb 13 17:21:26 1992  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* c-decl.c (finish_struct): Use pedwarn for pedantic warning.
	(grokdeclarator): Likewise.
	* c-parse.y (component_decl_list2): Likewise.

Thu Feb 13 22:11:36 1992  Richard Kenner  (kenner at vlsi1.ultra.nyu.edu)

	* combine.c (make_extraction): Default modes to byte and register
	size, as appopriate, when the bitfield insn doesn't exist.

	* a29kunix.h (LINK_SPEC): Pass default option file to gld.
	(LINK_LIBGCC_SPECIAL): Define to work around gld bug.

	* explow.c (copy_to_suggested_reg): Try getting mode from TARGET.

	* rs6000.h (ASM_FILE_END): New macro.
	(EXTRA_SECTIONS): New section read_only_private_data.
	(EXTRA_SECTION_FUNCTIONS): New function read_only_private_data_section.
	(SELECT_RTX_SECTION): Always make non-toc data private, read-only.
	(SELECT_SECTION): Put read-only data in appropriate sections.

	*  jump.c (jump_optimize): Place branch in correct place when
	optimizing "if (...) {... x = C;} if (x) ...".
	(redirect_jump): Ensure jump's UID is within range of jump chain.

	* a29k.c (output_prologue): Correctly set LR1 when more than 64
	registers are needed.

Wed Feb 12 22:22:46 1992    (Eric Youngdale at youngdale@v6550c.nrl.navy.mil)

	* make-cccp.com: Define link as a local symbol to avoid 
	possible conflict with a user defined global symbol.

	* make-cc1.com: Likewise.

Thu Feb 13 11:05:07 1992  Michael Meissner  (meissner at osf.org)

	* mips.c (make_temp_file): Store created filename into a static
	file-scope variable, not an auto.
	(mips_asm_file_end): Use the appropriate filename in printing
	errors.

Thu Feb 13 01:15:00 1992  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* cccp.c (skip_if_group): Skip comments after the #.

	* cccp.c (macarg): Don't assume stringify will compress spaces.
	(macroexpand): In stringify, compress space only outside tokens.

	* cexp.y (exp1): Use pedwarn for comma in #if.

	* cp-decl.c (push_binding_level, pop_binding_level):
	Change `inline' to `__inline'.

	* combine.c (make_compound_operation): Undo previous change.

Wed Feb 12 18:47:47 1992  Richard Kenner  (kenner at vlsi1.ultra.nyu.edu)

	* function.c (instantiate_virtual_regs_1, case IF_THEN_ELSE):
	Don't special case; allow all operands to be processed.  The last
	two operands are nontrivial on the Vax.

Wed Feb 12 18:58:48 1992  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* gcc.c (do_spec_1): Only absolute prefixes turn into -L's.
	(link_command_spec): Handle LINK_LIBGCC_SPECIAL.

Wed Feb 12 18:38:29 1992  Chris Smith  (csmith at convex.com)

	* convex.h (DEFAULT_CALLER_SAVES): define again, bug is fixed.
	* convex.h (BRANCH_COST): Define as 0, so we won't use complex
	alternatives to branches (whose expansions contain branches
	on convex).

Wed Feb 12 17:23:57 1992  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* config.sub: Accept just `hppa' for machine.

	* Makefile.in (Install-collect2): New target.

Wed Feb 12 13:55:24 1992  Richard Kenner  (kenner at vlsi1.ultra.nyu.edu)

	* reorg.c (relax_delay_slots): Don't convert jump to return here.

	* configure (a29k-ultra-*): Deleted.
	(a29k-*-bsd*): Merged with a29k-ultra-*.
	(romp-*-mach*): Fixed typo in xmake_file name.
	* xm-a29kunix.h: Renamed from xm-a29k-ult.h.
	* x-a29kunix: New file.

	* reload.c (find_reloads): Don't use class from preference if it
	is a single-register class.

Wed Feb 12 13:03:16 1992  Tom Wood  (wood at dg-rtp.dg.com)

	* m88k.h (FUNCTION_BOUNDARY, ASM_OUTPUT_ALIGN): Pack code tightly
	when compiling crtstuff.c (flag_inhibit_size_directive).

Wed Feb 12 10:34:09 1992  Michael Meissner  (meissner at osf.org)

	* decrose.h (*_SPEC): Compress some whitespace in the specs.  Also,
	simpify which LANGUAGE_xxx names are defined, to be the ones uses by
	the system(s).
	* decstatn.h (*_SPEC): Likewise.
	* iris.h (*_SPEC): Likewise.
	* mips.h (*_SPEC): Likewise.
	* mips-bsd.h (*_SPEC): Likewise.
	* mips-news.h (*_SPEC): Likewise.
	* mips-sysv.h (*_SPEC): Likewise.

Wed Feb 12 10:34:09 1992  Richard Kenner  (kenner at vlsi1.ultra.nyu.edu)

	* caller-save.c (insert_save_restore): Properly check for insns that
	reference CC0.

Wed Feb 12 03:17:00 1992  Chris Smith  (csmith at convex.com)

	* convex.h (DEFAULT_CALLER_SAVES): don't define, to sidestep a bug.
	* convex.md (ffssi2): Comment out.

Wed Feb 12 00:08:42 1992    (Eric Youngdale at youngdale@v6550c.nrl.navy.mil)

	* make-libgcc2.com: Do not save .s file.

	* vms.h: Wrap #include <stdio.h> in #ifdef L__main/endif

Tue Feb 11 21:58:42 1992    (Eric Youngdale at youngdale@v6550c.nrl.navy.mil)

	* libgcc2.c (DO_GLOBAL_DTORS_BODY): New macro.

	* make-l2.com: New file to build libgcc2 on VMS.

	* vms.h (DO_GLOBAL_CTORS_BODY): Replacement definition.

	* vms.h (DO_GLOBAL_DTORS_BODY): Likewise.

	* make-cccp.com: Define bison and rename as local symbols to avoid 
	possible conflict with user defined global symbols.

Tue Feb 11 22:17:32 1992  Richard Kenner  (kenner at vlsi1.ultra.nyu.edu)

	* sched.c (attach_deaths): Don't treat PIC offset table register
	specially; flow.c doesn't.

	* combine.c (make_compound_operation, case AND): We can have
	a (and (subreg (lshiftrt ..) ..) ..); handle same as without SUBREG.
 
	* Makefile.in (HOST_CLIB, HOST_ALLOCA, HOST_MALLOC, HOST_OBSTACK): New
	variables to override.
	(USE_HOST_*, HOST_LIBDEPS): Use HOST_PREFIX and new variables.
	(HOST_LIBS): Use HOST_CLIB.

Tue Feb 11 21:32:07 1992  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* Makefile.in (install-common-headers): Copy byteorder.h to
	compilation dir.

	* config.sub: Allow unicos as operating system.

	* m88kv4.h (INIT_SECTION_ASM_OP): Add #progbits.

	* vax.h (DYNAMIC_CHAIN_ADDRESS): New macro.

	* c++: Propagate quoted args properly.

Tue Feb 11 16:35:01 1992  Jim Wilson  (wilson at cygnus.com)

	* fixincludes: Define TERM to `unknown', to ensure that it is
	valid.  Otherwise, ex may fail.
	* fixinc.svr4: Likewise.

Tue Feb 11 18:04:32 1992  Michael Meissner  (meissner at osf.org)

	* decrose.h (CPP_SPEC): Define the macros LANGUAGE_OBJECTIVE_C and
	LANGUAGE_C_PLUS_PLUS if we are compiling Objective C or C++.
	Silicon Graphics in particular uses LANGUAGE_C_PLUS_PLUS.
	* decstatn.h (CPP_SPEC): Likewise.
	* iris.h (CPP_SPEC): Likewise.
	* mips-bsd.h (CPP_SPEC): Likewise.
	* mips-news.h (CPP_SPEC): Likewise.
	* mips-sysv.h (CPP_SPEC): Likewise.

	* decstatn.h (CPP_PREDEFINES): Eliminate __<name> versions, since
	gcc will do these automatically.  Eliminate LANGUAGE_C, since it is
	handled in CPP_SPEC.

Tue Feb 11 15:38:27 1992  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* flow.c (find_basic_blocks): Don't delete labels used in non-jumps.

	* vms.h (DO_GLOBAL_CTORS_BODY): Modify the return address
	only the first time __main is called.

	* fixinc.svr4: Change headers to test __STRICT_ANSI__ instead of
	testing __STDC__ != 0.

	* fixinc.svr4 (mman.h): Fix backward __STDC__ conditional.
	Don't add declarations of munmap and mprotect.

	* varasm.c (output_constant): Allow empty constructor for any type.

	* dwarfout.c (ASM_OUTPUT_DWARF_DATA8): Just one definition;
	test WORDS_BIG_ENDIAN "at run time".

Tue Feb 11 09:00:01 1992  Richard Kenner  (kenner at vlsi1.ultra.nyu.edu)

	* reload.c (find_reloads): Don't substitute in MATCH_DUPs if we
	are not generating replacements.

Tue Feb 11 08:45:14 1992  Tom Wood  (wood at dg-rtp.dg.com)

	* m88kv4.h ({CTORS,DTORS}_SECTION_ASM_OP): Fix typo.

Mon Feb 10 22:34:47 1992  Chris Smith  (csmith at convex.com)

	* convex.h(HARD_REGNO_NREGS): define correctly for 64-bit regs

Mon Feb 10 21:50:23 1992  Michael Meissner  (meissner at osf.org)

	* mips.h (MIPS_VERSION): Change Meissner version # to 11.
	(CPP_SPEC): Define the macros LANGUAGE_OBJECTIVE_C and
	LANGUAGE_C_PLUS_PLUS if we are compiling Objective C or C++.
	Silicon Graphics in particular uses LANGUAGE_C_PLUS_PLUS.
	(FP_DBX_FIRST): Change the test so that stabs in ECOFF uses the
	value 38, in addition to stabs in GAS.

	* mips.md (all function units): Make the function units simpler, and
	not depend on the cpu type, to work around a memory hungry
	genattrtab, which attempts to grow the data segment to than 32
	megabytes.

Mon Feb 10 16:34:11 1992  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* convex.h (REAL_VALUE_TRUNCATE): Obsolete definition deleted.

	* config.sub (convex-*): These are BSD, not sysv.

	* dbxout.c (have_used_extensions): New var.
	(dbxout_type, dbxout_type_fields, dbxout_symbol):
	Set have_used_extensions when use an extension.
	(dbxout_symbol): Don't use `Tt' extension unless extensions
	have been used.

Mon Feb 10 12:28:59 1992  Richard Kenner  (kenner at vlsi1.ultra.nyu.edu)

	* xm-a29k-ult.h: Fix typo in placement of copyright notice.

Mon Feb 10 05:36:45 1992  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* dbxout.c (dbxout_type): Don't use GDB extensions if they are empty.

Mon Feb 10 00:10:20 1992  Michael Tiemann  (tiemann at cygnus.com)

	* cp-class.c (finish_struct): Use DECL_CHAIN, not TREE_CHAIN to walk
	through the list of methods identified by a visibility declaration.

	* cp-cvt.c (convert_pointer_to): No longer need to abort if BINFO is
	not a TREE_VEC or AGGR_TYPE node.

	* cp-parse.y (stmt): Improve error handling for try/except.

	* cp-class.c (add_method): If we create RTL for a copy of METHOD,
	copy the RTL to METHOD's DECL_RTL slot.

	* cp-method.c (dump_type): Print `const' and/or `volatile' for
	VOID_TYPE and REAL_TYPEs, too.

Sun Feb  9 21:07:45 1992  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* varasm.c (assemble_integer): Pass third arg in recursive calls.
	Act appropriately if word-by-word loop doesn't finish.

	* Makefile.in (bootstrap*): Don't override value of ALLOCA.

	* dbxout.c (dbxout_symbol, dbxout_parms): Do leaf function remap
	only if LEAF_REG_REMAP and only in leaf functions.

Sun Feb  9 16:46:27 1992  Michael Tiemann  (tiemann at cygnus.com)

	* cp-init.c (maybe_adjust_addr_for_delete): Build final COND_EXPR
	with TREE_TYPE (addr).

Sun Feb  9 14:20:49 1992  Richard Kenner  (kenner at vlsi1.ultra.nyu.edu)

	* rs6000.h (rs6000_{bss,private_data,read_only}_section_name):
	Add declarations.
	(rs6000_text_section_asm_op): Deleted.
	(ASM_FILE_START): Initialize section names and enter bss section once.
	(EXTRA_SECTIONS): Add `private_data' and `bss';
	delete `global_variable'..
	(read_only_data_section): Don't form name here.
	(global_variable_section): Deleted.
	(private_data_section, bss_section): New functions.
	(ASM_DECLARE_FUNCTION_NAME): Don't write function name with [PR].
	(ASM_OUTPUT_POLL_PROLOGUE): No longer needed.
	(SELECT_{RTX_,}SECTION): Just calls data_section or
	private_data_section.
	(ASM_OUTPUT_LOCAL): Put in bss section.
	(TEXT_SECTION_ASM_OP, DATA_SECTION_ASM_OP): Now a constant.
	* rs6000.c (rs6000_text_section_asm_op): Deleted.
	(rs6000_{bss,private_data,read_only}_section_name): Add definitions.
	(rs6000_gen_section_name): New function.

Sun Feb  9 08:29:21 1992  James Van Artsdalen  (james at bigtex.cactus.org)

	* i386.h (REGNO_REG_CLASS): Use a lookup table: AIX can't handle
	complex tertiary expressions.
	(GO_IF_LEGITIMATE_ADDRESS): Simplify slightly for the AIX
	compiler.

	* i386.c (regclass_map): New variable.  Lookup array for
	REGNO_REG_CLASS.

Sat Feb  8 01:20:33 1992  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* cp-parse.y (yyprint): Test __GNUC__, not __GNU__.
	Use __inline, like everywhere else.

	* a29k.h, romp.h (OVERRIDE_OPTIONS): Deleted.
	(OPTIMIZATION_OPTIONS): Defined, instead.
	* rs6000.h (OPTIMIZATION_OPTIONS): New macro.
	(OVERRIDE_OPTIONS): Don't change optimization.

	* final.c (leaf_renumber_regs_insn): No longer static.
	* dbxout.c (dbxout_symbol, dbxout_parms): Call that.

	* c-decl.c (lookup_name): Do nothing special if type is error mark.
	(grokdeclarator): Ignore putative type name whose type is error mark.
	* c-parse.y (primary): If var type is error mark, return error mark.

	* c-typeck.c (build_array_ref): Return early if arg is error mark.

	* Makefile.in (test-protoize): Rule deleted.

	* stmt.c (emit_case_nodes): Handle just-left-subtree case
	like just-right-subtree--delete mysterious code that tests cost_table.

	* varasm.c (decode_reg_name): Accept decimal number as reg name.

	* c-decl.c (finish_decl): If pop_obstacks goes to perm obstack,
	call permanent_allocation.

	* gcc.c (link_command_spec): Use -lgcc, not libgcc.a.

Fri Feb  7 16:56:17 1992  Jim Wilson  (wilson at wookumz.gnu.ai.mit.edu)

	* rs6000.h (DOLLARS_IN_IDENTIFIERS): Define to zero, because the
	assembler does not accept dollar signs.

Fri Feb  7 15:36:40 1992  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* Makefile.in (mostlyclean): Fix name of tmp-proto.1.

	* configure: Delete excess space in assignment to srcdir.

	* cp-decl2.c (DOLLARS_IN_IDENTIFIERS): Default now 1, as in C.

	* i386gas.h (ASM_OUTPUT_LOOP_ALIGN): New macro.
	(ASM_OUTPUT_ALIGN_CODE): Use 16-byte boundary on 486.

	* m68k.h (TRANSFER_FROM_TRAMPOLINE): Use operands for the memrefs
	to avoid dependence on assembler syntax.

Fri Feb  7 10:26:32 1992  Michael Meissner  (meissner at osf.org)

	* Makefile.in (EXTRA_OBJS): New variable for extra object files
	needed when linking cc1, cc1plus, and cc1objc.

Fri Feb  7 07:34:03 1992  Richard Kenner  (kenner at vlsi1.ultra.nyu.edu)

	* reload1.c (set_label_offsets, reload_as_needed): Recompute
	num_not_at_initial_offset when we pick up offsets from offsets_at.

	* unroll.c (unroll_loop): Copy initial and final values to avoid
	sharing.
	
	* cse.c (simplify_relational_operation): Complete last change by
	correctly handling <= and >=.

Thu Feb  6 23:57:02 1992  Michael Tiemann  (tiemann at cygnus.com)

	* cp-decl.c (grokdeclarator): Invert sense of warning about
	initialized extern vars, since in C++, const has funny semantics.

Thu Feb  6 15:12:02 1992  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* cse.c (simplify_relational_operation): Test properly for floating
	equality; don't deduce this from < and >.

	* xm-mips.h (alloca): Don't define or declare if MIPS_OVERRIDE_ALLOCA.
	* xm-irix4.h (MIPS_OVERRIDE_ALLOCA): Defined.

	* m68k.h (TRANSFER_FROM_TRAMPOLINE): Use explicit reg var
	to avoid dependence on register name syntax.

	* mot3300.h (PUT_SDB_START_DIM, PUT_SDB_NEXT_DIM, PUT_SDB_LAST_DIM):
	New macros.
	(PUT_SDB_DIM): Deleted.
	(PRINT_OPERAND): Handle %$ and %&.
	(ASM_OUTPUT_OPCODE): Handle f%$move and f%&move.

	* gstdarg.h: If not __GNUC__, use system's stdarg.h.

Thu Feb  6 22:36:36 1992    (Eric Youngdale at youngdale@v6550c.nrl.navy.mil)

	* vms.h (DEFAULT_GDB_EXTENSIONS): Define as 0.

Thu Feb  6 13:32:37 1992  Michael Meissner  (meissner at osf.org)

	* mips.h (MIPS_VERSION): Set Meissner version # to 10.
	(flag_half_pic, mips_branch_likely): New global variables.
	(call_memory_operand): New function declaration.
	(half_pic_encode_section_info): Likewise.
	(mips_constant_address_p): Likewise.
	(mips_debugger_offset): Likewise.
	(CC1_SPEC): Make OSF/1 -pic-xxx switches to -mhalf-pic, which is
	currently undergoing development.
	(DEBUGGER_AUTO_OFFSET): Emit correct information if frame pointer is
	omitted.
	(DEBUGGER_ARG_OFFSET): Likewise.
	(TARGET_SWITCHES): Add -mabicalls and -mhalf-pic switches.
	(PIC_OFFSET_TABLE_REGNUM): Define as the GP register ($28).
	(EXTRA_CONSTRAINT): Add 'S' constraint for half-pic references.
	(CONSTANT_ADDRESS_P): Call mips_constant_address_p.
	(ENCODE_SECTION_INFO): Reorder test to test optimize first, and to
	call half_pic_encode_section_info if half pic.
	(PREDICATE_CODES): Add call_memory_operand.

	* mips.c (flag_half_pic): New global variable to indicate to produce
	half-pic output for OSF/rose.
	(mips_branch_likely): New global variable to indicate the branch
	should use the branch likely form of the instruction.
	(mips_sw_reg_names): Use $fp instead of fp, since regdef.h no longer
	defines fp.
	(call_memory_operand): New function to return TRUE if the argument
	is a valid MEM for a call instruction.
	(mips_move_1word): Emit comment in la of half-pic addresses as a
	temporary flag to put the right code down.
	(mips_constant_address): New function to determine if something is a
	constant address or not.  Add stub code for -mhalf-pic.
	(override_options): Set flag_half_pic if -mhalf-pic.
	(override_options): Mark %? as valid for print_operand.
	(mips_debugger_offset): New function to correct the offset for
	variables and arguments if the frame pointer has been omitted.
	(print_operand): %? now emits a 'l' if mips_branch_likeley is set.
	(mips_asm_file_start, function_prologue): If -mabicalls, emit the
	pseudo ops that the Pyramid System V.4 port seems to want.
	(compute_frame_size): Reserve space for saving GP if -mabicalls.
	(half_pic_encode_section_info): Stub function for encoding whether
	or not to generate a half pic reference.

	* mips.md (type attribute): Add pic attribute.
	(cpu attribute): New attribute to get the CPU type.
	(branch_likely attribute): New attribute to say whether or not we
	can use branch likely instructions.
	(define_delay): Note that we can annull false branches if -mips2.
	(memory function unit): Add pic in addition to load.
	(various function units): Use the cpu attribute.
	(branch patterns): Support branch likely instructions if -mips2.
	(call, call_internal): Use call_memory_operand instead of
	memory_operand.  If -mhalf-pic put function address in a register.
	(call_value, call_value_internal): Likewise.

	* decrose.h (INIT_SECTION_ASM_OP): Define as .init.

Thu Feb  6 10:07:17 1992  Tom Wood  (wood at dg-rtp.dg.com)

	* m88k.c (preserve_registers): Change to walk the epilogue delay
	insns in the forward rather than reverse order (for reorg.c change).

Thu Feb  6 02:54:28 1992  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* cse.c (simplify_binary_operation, case PLUS): Don't make
	a (const (plus X Y)) with X a CONST_INT.

	* fixincludes: Simplify egrep command.

Thu Feb  6 01:11:28 1992  Mark Eichin  (eichin at cygnus.com)

	* cp-lex.c (process_next_inline): if we get a "parse error at end of
	saved function text", set yychar to something that
	restore_pending_input will digest (if it thinks input is still
	pending, it will abort, but we've already reported the problem to
	the user.)

Wed Feb  5 18:42:56 1992  Richard Kenner  (kenner at vlsi1.ultra.nyu.edu)

	* reorg.c (fill_simple_delay_slots): When filling delay slots by
	searching backward, put each new insn we find at the head of the
	delay list instead of at the tail.

	* cse.c (fold_rtx): When associating operations, avoid infinite
	recursion if the new expression contains our operand.

Wed Feb  5 21:18:06 1992  Mark Eichin  (eichin at cygnus.com)

	* cp-decl.c (globalize_nested_type): If the type isn't found at all,
	this is an anonymous forward reference, so permit it.
	Abort if type is already globally defined.

Wed Feb  5 18:01:12 1992  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* varasm.c, hp800.h, i386.h, m88k.h, mips.h, romp.h, vms.h:
	(ENCODE_SECTION_INFO): Renamed from ENCODE_SEGMENT_INFO.

	* sparc.md (nonlocal_goto): Copy static chain into
	virtual_stack_vars_rtx, not frame pointer itself.
	(nonlocal goto return recognizer): Jump to %o0+0.

	* toplev.c (main): Fix test for -Wid-clash.

Wed Feb  5 16:58:15 1992  Ron Guilmette  (rfg at ncd.com)

	* dwarfout.c (dwarfout_init):  Add two words containing the starting
	and ending address of the .text section for this compilation unit to
	the special initial entry in the .debug_srcinfo section.

Tue Feb  4 14:51:16 1992  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* dbxout.c (dbxout_symbol): Handle DBX_OUTPUT_CONSTANT_SYMBOL.
	(dbxout_block): Handle DBX_OUTPUT_CATCH.

	* cccp.c (lookup_import, add_import, do_include):
	Use bcmp and bcopy to access st_ino and ->inode fields.

	* dbxout.c (dbxout_init): Pass syms to DBX_OUTPUT_STANDARD_TYPES.

	* fold-const.c (operand_equal_p): Check that modes match.
	(comparison_equiv_p): New function.
	(fold): Use that when converting ?: to min_expr or max_expr.

	* c-common.c (c_expand_expr_stmt): Test for ERROR_MARK as type.

Tue Feb  4 12:03:26 1992  Michael Tiemann  (tiemann at cygnus.com)

	* stmt.c (expand_end_case): Don't crash if function called
	is not an ADDR_EXPR.

Tue Feb  4 14:17:22 1992  Richard Kenner  (kenner at vlsi1.ultra.nyu.edu)

	* expr.h ({float[sd]i[sd]f,fix[sd]f[sd]i,fixuns[sd]f[sd]i}_libfunc):
	New declarations.
	* optabs.c: Define them.
	(expand_float, expand_fix): Use them instead of making a new
	SYMBOL_REF each call.
	(init_optabs): Initialize them.

Tue Feb  4 00:27:35 1992  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* Makefile.in (protoize.1, unprotoize.1): Rename temp files < 14 chrs.

	* cccp.c (skip_if_group): Make unknown cmd name a pedantic warning.

Mon Feb  3 18:10:41 1992  Richard Kenner  (kenner at vlsi1.ultra.nyu.edu)

	* romp.h (LEGITIMATE_CONSTANT_P, ENCODE_SEGMENT_INFO): Use
	SYMBOL_REF_FLAG.

	* x-romp-mach: New file.
	* configure (romp-*-mach*): New alternative.

Mon Feb  3 16:43:55 1992  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* cp-typeck.c (warn_for_assignment): Print arg num in origin 1.

	* sparc.md (nonlocal_goto trap recognizer): Fix opcode spelling.

	* function.c (fix_lexical_addr): Properly search for correct display.

	* romp.h (OVERRIDE_OPTIONS): Don't set flag_omit_frame_pointer.

Mon Feb  3 11:11:58 1992  Michael Tiemann  (tiemann at cygnus.com)

	* gcc.c (@c++-cpp-output): Delete extraneous "}}}" at the end of the
	rule.

Mon Feb  3 11:38:19 1992  Ron Guilmette  (rfg at ncd.com)

	* dwarfout.c (dwarfout_init):  Generate an initial 2-word entry in the
	.debug_srcinfo section containing the addresses of the starts of the
	.line and .debug_sfnames sections.  Generate it after the initial entry
	for the .line section.

	* dwarfout.c [DWARF_TIMESTAMPS]: Ensure time_t and time declared.
	(dwarfout_init):  Make third word of initial .debug_srcinfo entry be
	the compilation date/time if DWARF_TIMESTAMPS is defined, or else -1.

	* dwarfout.c (dwarfout_init):  Output compilation directory name as
	the first thing in the .debug_sfnames section.

Mon Feb  3 04:12:51 1992  James Van Artsdalen  (james at bigtex.cactus.org)

	* Makefile.in (install-dir): `parent' is a shell variable.

Mon Feb  3 09:43:51 1992  Tom Wood  (wood at dg-rtp.dg.com)

	* m88k.h (EXTRA_SECTIONS): Use init and fini sections from svr3.h,
	but only when using svr3.h.

Sun Feb  2 19:50:29 1992  James Van Artsdalen  (james at bigtex.cactus.org)

	* i386.h (ADDRESS_COST): New macro.

Sun Feb  2 17:08:47 1992  Michael Meissner  (meissner at osf.org)

	* mips.c (simple_memory_operand): Don't recognize references to
	variables in .sdata or .sbss, which has the effect of not putting
	stores into delay slots.  This fixes a bug and also doesn't temp the
	MIPS linker from trying to put 4 instructions into the delay slot
	when it rewrites the function as a PIC function.

Sun Feb  2 16:58:11 1992  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* gbl-ctors.h (DO_GLOBAL_CTORS_BODY): Do ON_EXIT last.

	* Makefile.in (install-dir):  Create the parent of mandir if nec.

	* real.h (REAL_VALUE_TRUNCATE): sizeof says what cast to float does.

	* dbxout.c (DBX_OUTPUT_MAIN_SOURCE_DIRECTORY): New parameter macro.
	(DBX_OUTPUT_MAIN_SOURCE_FILENAME, DBX_OUTPUT_SOURCE_FILENAME):
	(DBX_OUTPUT_MAIN_SOURCE_FILE_END): Likewise.
	These are used in place of ASM_...
	* newpbb.h (DBX_OUTPUT_MAIN_SOURCE_FILENAME): Macro renamed.
	(DBX_OUTPUT_SOURCE_FILENAME): Likewise.
	* next.h (DBX_OUTPUT_MAIN_SOURCE_DIRECTORY): Macro renamed.
	(DBX_OUTPUT_MAIN_SOURCE_FILE_END): Likewise.

Sun Feb  2 12:51:54 1992  Michael Tiemann  (tiemann at cygnus.com)

	* cp-typeck.c (build_component_ref_1): Call `compute_visibility'
	with a BASETYPE_PATH, not a TREE_LIST.

	* cp-class.c (build_vtable_entry): Apologize if we cannot build a
	proper vtable because of builtin liminations.

Sun Feb  2 07:30:08 1992  Richard Kenner  (kenner at vlsi1.ultra.nyu.edu)

	* reload.c (combine_reloads): Don't combine two reloads with different
	secondary reloads; copy secondary reload to combined reload.

	* cse.c (cse_main): PIC_OFFSET_TABLE_REGNUM is not clobbered by calls
	if -fpic or -fPIC.
	* reorg.c (mark_target_live_regs): Likewise.
	* sched.c (attach_deaths): Likewise.

	* flow.c (find_basic_blocks): Don't separate a CALL_INSN from
	following CLOBBER insns.

	* function.c (use_variable, use_variable_after): Don't interpret
	reference to internal arg pointer as variable-sized object.
	(expand_function_start, expand_function_end): Add USE for virtual
	arg pointer if stupid alloc and it is not the real arg pointer.

	* flow.c (insn_dead_p, mark_set_1, mark_used_regs): Don't treat
	ARG_POINTER_REGNUM specially if it isn't fixed.
	* sched.c (attach_deaths): Likewise.
	* reorg.c (mark_target_live_regs): Likewise; also make set of regs
	clobbered on call agree with cse and flow.

	* function.c (fix_lexical_addr): Rework to look for AP references
	using internal_arg_pointer; make some related cleanups.
	* expr.c (expand_expr, case VAR_DECL, SAVE_EXPR): Treat
	inline_function_decl just like current_function_decl.
	* stmt.c (expand_end_bindings): When restoring arg pointer, restore
	into the virtual form so we will subtract the proper offset, since
	the saved value includes the offset.

Sat Feb  1 14:41:34 1992  Ken Raeburn  (Raeburn@Cygnus.COM)

	* cp-pt.c (end_template_decl): For method template, no longer call
	popclass; it isn't needed any more.  If after processing template
	we're not at the global binding level, throw away any other binding
	levels, rather than aborting.  Also deleted some other unused code.

Sat Feb  1 09:13:47 1992  Richard Kenner  (kenner at vlsi1.ultra.nyu.edu)

	* xm-rs6000-mach.h, rs6000-mach.h: New files.
	* configure (rs6000-*-mach): New option.

Sat Feb  1 00:57:24 1992  James Van Artsdalen  (james at bigtex.cactus.org)

	* i386.c: Include tree.h
	(symbolic_operand): New predicate function.
	(symbolic_reference_mentioned_p): New function.
	(legitimize_pic_address,emit_pic_move): New functions.
	(function_prologue): Delete unused variable nregs.
	If the PIC reg is used, save the old contents and initialize with
	a pointer to the GOT.
	(simple_386_epilogue): Count the PIC reg if it is used.
	(function_epilogue): Delete unused variable "insn".  Restore the
	original contents of the PIC reg if it was used.

	(output_pic_addr_const): New function to handle PIC symbol
	reference suffixes.
	(print_operand_address): Use that if flag_pic is true.
	(print_operand): Likewise.  Don't print a prefix in front of any
	constant if the 'P' code is used.

	(output_387_binary_op): abort if the op is not one we handle.

	(maximum_field_alignment): New variable.
	(handle_pragma_token): New function.  Handle `weak' and `pack'.

	* i386.h (CONDITION_REGISTER_USAGE): New macro.  Mark PIC reg as
	fixed and call used if flag_pic is true.
	(PIC_OFFSET_TABLE_REGNUM): New macro.
	(FUNCTION_PROFILER): Output PIC compatible code if flag_pic.
	(INITIAL_ELIMINATION_OFFSET): Count the PIC reg if it is used.

	(GO_IF_LEGITIMATE_ADDRESS): If flag_pic is true, reject bare
	label or symbol references, but allow constant pool references.
	In all cases, don't bother to check for a constant as the first
	operand of a PLUS.
	(LEGITIMIZE_ADDRESS): Call legitimize_pic_address for symbolic
	references if flag_pic is true.  In all cases, HImode regs are not
	valid memory pointers.
	(LEGITIMATE_PIC_OPERAND): New macro.
	(SYMBOLIC_CONST): New macro.
	(ENCODE_SEGMENT_INFO): New macro to notice static variables.
	(CONST_COSTS): Symbolic constants cost more if flag_pic is true.

	* i386.md (movsi): Use define_expand.  Call emit_pic_move for
	symbolic constants if flag_pic is true.
	(divmodM4,udivmodM4): Change predicates so that only regs are
	allowed in operands that can't be a mem.  Avoids reload
	congestion.
	(indirect_jump): Allow any reg or mem as operand, not just reg 0.
	(casesi): New insn, only used if flag_pic is true.
	(call,call_pop,call_value,call_value_pop): Use define_expand to
	record if this function ever emits a call, which will implicitly
	use the PIC address register.

	* svr4.h (SELECT_SECTION): Any item whose initial value involves
	linker relocation must go in the data section if flag_pic is true.

	* i386v4.h (ASM_OUTPUT_ADDR_DIFF_ELT): Output in PIC style.  If
	flag_pic is false, ADDR_DIFF_VECs are not output and this is not
	used.
	(JUMP_TABLES_IN_TEXT_SECTION): New macro.

	(WEAK_ASM_OP,DEF_ASM_OP): New macros.
	(maximum_field_alignment): New variable.  Declare here.
	(PCC_BITFIELD_TYPE_MATTERS): New macro.  Value depends on
	maximum_field_alignment.
	(BIGGEST_FIELD_ALIGNMENT): New macro.  Likewise.
	(HANDLE_PRAGMA): New macro.
	(ASM_OUTPUT_ALIGNED_LOCAL): New macro.

Sat Feb  1 00:15:41 1992  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* flow.c (flow_analysis, find_basic_blocks):
	If have nonlocal labels, calls end basic blocks.
	Each call can jump to each nonlocal label.
	Pass extra arg to find_basic_blocks.
	* function.c (nonlocal_label_rtx_list): New function.

	* dbxout.c (dbxout_init): Vars wd and wd_gotten moved to top level
	and renamed to cwd and cwd_gotten.

	* c-decl.c (start_function): -Wmissing-prototypes warns if static
	function was previously used without a prototype.

	* loop.c (find_and_verify_loop): Initialize uid_loop_num[0].
	(loop_optimize): Give up fast if no loops.

	* stmt.c (expand_end_bindings): Don't adjust fp in nonlocal goto hndlr
	if there is a nonlocal_goto insn.

	* Makefile.in (cccp.o): Use just libdir in GPLUSPLUS_INCLUDE_DIR.

	* gcc.c (do_spec_1): Supply missing arg in some recursive calls.

Fri Jan 31 21:50:03 1992  Jeffrey A. Law  (law at wombat.gnu.ai.mit.edu)

	* m68k.h (OVERRIDE_OPTIONS): -fPIC is only supported on the 68020
	and later cpus.  Give an error if -fPIC is tried on a 68000.

Fri Jan 31 21:39:33 1992  Richard Kenner  (kenner at vlsi1.ultra.nyu.edu)

	* flow.c (find_auto_inc): If emitting a move insn in front of the
	first insn in a block, update basic_block_head.

	* caller-save.c (init_caller_save): Correctly check for case where the
	save or restore insns aren't recognized.

Fri Jan 31 21:02:35 1992  Mark Eichin  (eichin at cygnus.com)

	* cp-decl.c (pushtag): when calling pushdecl, if we're in a
	  class_binding_level just do a pushdecl_class_level. Otherwise
	  pushdecl gets called multiple times on class-nested enums, which
	  short circuits the name list in the global_binding_level.

Fri Jan 31 00:14:20 1992  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* stmt.c (expand_goto): Use nonlocal_goto pattern if it exists.
	* sparc.md (nonlocal_goto): New pattern.
	Also nameless pattern for the special trap insn.

	* gcc.c (S_ISDIR): Add default definition.

	* function.c (expand_function_end):
	Set up arg_pointer_save_area at start of function.

	* c++: Accept -nostdlib, not -nostinc.

	* va-sparc.h: If GCC v1, define __extension__ as nothing.
	* va-i860.h, va-pyr.h, va-spur.h: Likewise.

	* cp-class.c (finish_struct): Fill in DECL_ALIGN of vtable field.

	* regclass.c (reg_class_record):
	Don't follow indirect loops in constraints.

	* function.c, expr.h (current_function_internal_arg_pointer): New var.
	* function.c (assign_parms): Set it.
	(push_function_context, pop_function_context): Save and restore it.
	* expr.c (expand_builtin): Use it.
	* function.h (struct function): New slot to save it in.

	* cse.c (cse_main): Calls do clobber arg pointer if not fixed.

	* hp320.h (HAVE_ATEXIT): New definition.

	* Makefile.in (ALL_CPPFLAGS): New variable.
	Use in all compile steps instead of CPPFLAGS.
	(X_CPPFLAGS, T_CPPFLAGS): New vars, used in ALL_CPPFLAGS.
	* x-vax (X_CPPFLAGS): Use this instead of X_CFLAGS.

	* stmt.c (expand_end_bindings): Fix typo.

Fri Jan 31 12:15:09 1992  Ron Guilmette  (rfg ay ncd.com)

	* dwarfout.c (LINE_LAST_ENTRY_LABEL): Definition added.
	(dwarfout_finish):  Put a label on the last .line section entry.
	(dwarfout_finish):  Make first word of final .debug_srcinfo record
	contain the offset of the final .line section entry.

Fri Jan 31 10:31:44 1992  James Van Artsdalen  (james at bigtex.cactus.org)

	* cp-tree.c (__eprintf): Make definition match assert.h
	declaration.

Thu Jan 30 23:17:11 1992  Per Bothner  (bothner at cygnus.com)

	* c++:  The flags -c, -S, or -E suppress passing -lg++
	to gcc.  (Otherwise, gcc prints a warning.)

Thu Jan 30 21:10:02 1992  Ron Guilmette  (rfg at ncd.com)

	* dwarfout.c (dwarfout_init):  Fix generation of initial .debug_aranges
	entry to be Dwarf Version 1 compliant.

Thu Jan 30 15:51:27 1992  Jim Wilson  (wilson at wookumz.gnu.ai.mit.edu)

	* i386sun.h (LINK_SPEC): Delete useless %{-Bstatic} term.
	* sun2o4.h (LINK_SPEC): Likewise.
	* sun3.h (LINK_SPEC): Likewise.
	* sparc.h (LINK_SPEC): Delete useless %{Bstatic} term.

	* cccp.c (default_include): Delete use of obsolete
	NO_STANDARD_INCLUDE_DIR macro.
	* protoize.c (default_include): Likewise.

	* Makefile.in (libgcc1.null): Delete dummy.o and dummy.c.

Thu Jan 30 15:34:06 1992  Michael Meissner  (meissner at osf.org)

	* gstdarg.h: Include va-mips.h on MIPS systems.

	* va-mips.h (va_start): Provide alternate definition when included
	via stdarg.h.
	(va_arg): Use __alignof(...) instead of sizeof(...) to determine
	whether or not to dword align the argument pointer.

Thu Jan 30 13:06:36 1992  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* Makefile.in (install-common): Get c++ and g++ from srcdir.

	* i860.h (FIXED_REGISTERS): Arg pointer is no longer fixed.

	* assert.h (__eprintf): Add const to string args in GCC ANSI case.

	* Makefile.in (cccp.o, protoize.o, unprotoize.o):
	Define LOCAL_INCLUDE_DIR based on $(prefix).

	* stmt.c (expand_end_bindings): Arg pointer needs no special
	treatment if not fixed.

	* cp-parse.y, c-lex.c (yyerror):
	Avoid sign-extension of characters in error messages.

Thu Jan 30 11:39:56 1992  Ron Guilmette  (rfg at ncd.com)

	* dwarfout.c (dwarfout_finish):  Fix generation of .debug_pubnames
	terminating entry to be 4-bytes of zero followed by a null string.

Thu Jan 30 09:30:19 1992  Richard Kenner  (kenner at vlsi1.ultra.nyu.edu)

	* rs6000.c (ccr_bit): Fix typo causing reference to possibly
	undefined operand.

	* rs6000.h (ASM_SPEC): Remove until new AIX assembler is available.
	(ASM_OUTPUT_POOL_PROLOGUE): Add missing "." in csect name.
	(ENCODE_SEGMENT_INFO): Deleted.
	(ASM_OUTPUT_EXTERNAL): Move code from ENCODE_SEGMENT_INFO here,
	using permalloc instead of putting name into saveable_obstack.	
	Re-enable macro.
	(ASM_OUTPUT_EXTERNAL_LIBCALL): Re-enable.

Wed Jan 29 21:50:26 1992  Richard Kenner  (kenner at vlsi1.ultra.nyu.edu)

	* rs6000.h (ASM_SPEC): Add -u, now require new /bin/as for AIX.
	(ASM_OUTPUT_EXTERNAL, ASM_OUTPUT_EXTERNAL_LIBCALL): No longer needed.

	* rs6000.h (ENCODE_SEGMENT_INFO): New macro; add [RW] or [DS] to name.
	(RS6000_OUTPUT_BASENAME): New macro.
	(ASM_OUTPUT_*): Use it instead of assemble_name when required.
	(ASM_OUTPUT_POOL_PROLOGUE): Remove trailing [RW] or [DS].
	* rs6000.c (print_operand, case 'z'): New case, for name in CALL_INSN.
	(output_toc): Use RS6000_OUTPUT_BASENAME instead of assemble_name
	for toc entry name.
	* rs60000.md (call): Use %z.

Wed Jan 29 17:17:42 1992  Michael Tiemann  (tiemann at cygnus.com)

	* cp-init.c (build_member_call): Fix bug involving static members
	that are function pointers.

Wed Jan 29 13:25:18 1992  Tom Wood  (wood at dg-rtp.dg.com)

	* gcc.c (do_spec_1): For %D, only add -L options that are relevant.
	(is_linker_dir): Determine if a -L option is relevant.

Wed Jan 29 00:57:55 1992  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* configure: Turn ns32k alternatives back on.

	* Makefile.in (getopt.o, getopt1.c): Join two lines into one.

	* x-i386v4, x-i860v4 (GCC_CFLAGS): Add missing `-B./'.

	* reload.c (find_dummy_reload, push_reload): Don't reuse dying input
	reg as a reload if it is a fixed reg.

	* c-tree.h (C_MISSING_PROTOTYPE_WARNED): Deleted since unused.

Wed Jan 29 00:42:34 1992  Tim Moore  (moore at fast.cs.utah.edu)

	* hp800.c (print_operand): Handle INSN_ANNULLED_BRANCH_P in '*'
	operand type.
	* hp800.h (DEFAULT_GDB_EXTENSIONS): Define as 0.
	* hp800.md (cmpsi): Change arith_operand to arith5_operand.
	(bCC patterns): Delete pattern that matches a compare with a
	constant first operand. Change arith_operand to arith5_operand.
	(fp branches): Change type to cbranch.

	* function.c (assign_parms): Set current_function_arg_offset_rtx
	correctly for ARGS_GROW_DOWNWARD.
	* gstdarg.h: Include va-hp800.h.
	* va-hp800.h: Complete rewrite.

Tue Jan 28 17:04:38 1992  Jim Wilson  (wilson at wookumz.gnu.ai.mit.edu)

	* varasm.c (make_decl_rtl): Delete unused var `i'.

	* c-convert.c (convert_to_pointer):
	Abort if no integer type is as wide as a pointer.

	* gcc.c (default_compilers, .i case): Add error message for -pg
	and -fomit-frame-pointer incompatibility.

	* Makefile.in (install-common): Install c++ and g++ shell scripts in
	bindir.

Tue Jan 28 15:44:10 1992  Michael Collison  (collison at osf.org)

	* x-encrose (OLDCC): changed to $(GNU_ROSE_BIN)/gcc

	* ns32k.h: Added trampoline code.

Tue Jan 28 14:19:52 1992  Richard Kenner  (kenner at vlsi1.ultra.nyu.edu)

	* rtl.def (UNSPEC, UNSPEC_VOLATILE): New RTL codes.
	* cse.c (canon_hash): UNSPEC_VOLATILE operations are volatile.
	* loop.c (invariant_p): Likewise.
	* reorg.c (mark_referenced_resources): Likewise.
	* sched.c (sched_analyze_2): Likewise.
	* rtlanal.c (volatile_refs_p, side_effects_p, may_trap_p): Likewise.
	(reg_referenced_p): Support UNPEC and UNSPEC_VOLATILE.

Tue Jan 28 11:50:35 1992  Michael Meissner  (meissner at osf.org)

	* mips.c (toplevel): Add include of <ctype.h>, since isdigit is
	used.

Tue Jan 28 05:47:08 1992  Michael Tiemann  (tiemann at cygnus.com)

	* cp-decl.c (xref_tag): Addition to eichin's Jan 25 change.  If REF
	is extant, and it's seen in the global scope outside of
	CLASS_BINDING_LEVEL, set its IDENTIFIER_GLOBAL_VALUE if NULL.

	* cp-class.c (pushclass): Forcibly remove any remnants of incomplete
	type that was previously pushed.

	* cp-decl.c (various places): Remove all error messages about C++
	constructs being invalid in C language context; extern "C" is a
	linkage specifier--no more.

	* cp-method.c (dump_type_prefix,dump_type): Never need to output
	`unsigned' since its always part of an unsigned integer type name.
	(build_overload_name): Change test for unsigned to use
	`unsigned_type' instead of examining TREE_UNSIGNED.

	* cp-call.c (ideal_candidate): Don't convert PARMS in place if
	BASETYPE is NULL_TREE.

Tue Jan 28 02:21:31 1992  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* c-decl.c (grokdeclarator): Use `auto' for nested fn fwd decls.

	* g++: New file.

	* fixincludes:
	Convert machine names in #if's to have underscores.
	Fix specific files stdlib.h, locale.h, hsfs/... for Sunos 4.1.
	* fixinc.svr4: Convert machine names in #if's to have underscores.

	* gcc.c (do_spec_1): For %D, also make -L's for startfile_prefix.
	Also append the machine

	* fold-const.c (fold_convert): Properly handle real-to-real case.

	* configure (i486-*-sysv4*): New alternative.

Tue Jan 28 00:37:24 1992  Ron Guilmette  (rfg at ncd.com)

	* dwarfout.c (location_attribute):  Fix handling of objects which
	were optimized out of existance for Dwarf Version 0 compliance.

Tue Jan 28 00:42:57 1992  James Van Artsdalen  (james at bigtex.cactus.org)

	* Makefile.in (mostlyclean): Delete stack dump files too.

Mon Jan 27 18:26:27 1992  Richard Kenner  (kenner at vlsi1.ultra.nyu.edu)

	* rs6000.h (HAVE_ATEXIT, NO_DOLLAR_IN_LABEL): Now defined.

Mon Jan 27 13:32:51 1992  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* libgcc2.a (L_exit): Declare __CTOR_LIST__ and __DTOR_LIST__
	with length 2; get rid of __CTOR_END__ and __DTOR_END__.
	(L_ctor_list, L_dtor_list): New library members.

	* cccp.c (main): Add terminating null, then call trigraph_pcp.

	* fixincludes, fixinc.svr4: Fail unless an arg was given.
	* Makefile.in (install-fixincludes): Pass output dir as argument.

	* Makefile.in: Renamed libgcc[12] to libgcc[12].a.
	Likewise for tmplibgcc[12].

	* toplev.c (rest_of_decl_compilation): Treat all fcns as if external.

	* Makefile.in (TAGS): Do the work in srcdir.
	Include c-parse.h in files to move.

Mon Jan 27 10:54:24 1992  Jim Wilson  (wilson at sphagnum.cygnus.com)

	* cccp.c (get_filename): Don't pass -1 file descriptor to close.

Mon Jan 27 00:26:33 1992  Michael Tiemann  (tiemann at cygnus.com)

	* cp-decl.c (start_function): Preserve TREE_TYPE of RESULT_DECL, in
	case we have a named return value.
	(finish_function): Restrict the cases under which we build
	`no_return_label'.  Use CURRENT_FUNCTION_RETURN_VALUE to eliminate
	the generation of needless cleanups when functions end with a return
	stmt.  No longer zeros out CLEANUP_LABEL.  Also, call `emit_jump'
	instead of `expand_null_return' in case NO_RETURN_LABEL is
	non-NULL.

	* cp-decl2.c (grokfield): Don't specially hack static member
	function names.

	* cp-except.c (cplus_expand_raise): Test correct predicate that we
	have a non-null value return.
	(cplus_expand_{throw,reraise}): Ditto.

	* cp-typeck.c (c_expand_return): Handle case where named return
	value has incomplete type.

Sun Jan 26 20:50:55 1992  Michael Tiemann  (tiemann at cygnus.com)

	* cp-parse.y (LC): Fix rule to use `push_obstacks_nochange'.
	(structsp): Use `pop_obstacks'.

Sun Jan 26 17:39:15 1992  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* c-parse.y (LC): Use push_obstacks_nochange and always call
	end_temporary_allocation.
	(structsp, template_instantiate_once): After LC, use pop_obstacks.

	* c-decl.c (grokdeclarator):
	Static function decl within a function is not external.

Sun Jan 26 08:14:53 1992  Michael Meissner  (meissner at osf.org)

	* mips.h (MIPS_VERSION): Bump meissner version # to 9.
	(enum processor_type): Delete PROCESSOR_R2000, since a r2000
	schedules just like a r3000.
	(mips_isa, mips_isa_string, mips_cpu_string): New global variables.
	(MD_EXEC_PREFIX): If not defined, define as "/usr/lib/cmplrs/cc/".
	(TARGET_SWTICHES macros): Move setting the processor from
	TARGET_SWITCHES to TARGET_OPTIONS.  Also, delete the -mfixed-ovrfl
	switch, and move -mwc8/-mwc16 to not use any bits, since we can't
	support these in GCC 2.00.  Readjust the positions the bits are in.
	(TARGET_OPTIONS): Define to add switches -mcpu=x to set which
	processor type to schedule for, and -mipsx to specify the
	instruction set architecture level.
	(BRANCH_LIKELY_P): New macro, true if MIPS ISA >= 2.
	(HAVE_64BIT_P): New macro, true if MIPS_ISA >= 3.
	(HAVE_SQRT_P): New macro, true if MIPS_ISA >= 2.
	(BRANCH_COST): Define as 2 if r4000/r6000, 1 otherwise.
	(ASM_OUTPUT_SKIP): Eliminate OSF/1 gas work around.

	* mips.c (mips_isa, mips_isa_string, mips_cpu_string): New global
	variables.
	(print_options): Print CPU and ISA level.
	(override_otpions): Handle TARGET_OPTIONS setting cpu and ISA.
	(override_options, print_operand): %: is no longer supported, since
	-mfixed-ovfl is eliminated.

	* mips.md (type attribute): Add fsqrt.
	(all define_function_units): Redo, to add full r6000 and r4000
	support, and to use the default case in case another processor type
	is added.  Also, tests against PROCESSOR_R2000 eliminated.
	(add, subtract patterns): Delete use of %:.
	(sqrtdf2, sqrtsf2): Define if the MIPS ISA >= 2.

	* decrose.h (MD_EXEC_PREFIX, MD_STARTFILE_PREFIX): Define these to
	use the defaults on the OSF/1 reference platform.
	(i386rose.h): Likewise.

Sun Jan 26 07:58:00 1992  Richard Kenner  (kenner at vlsi1.ultra.nyu.edu)

	* cse.c (cse_insn): Don't call insert_regs on a SUBREG.
	When scanning table for SUBREG assignment, ignore invalid entries.

	* cse.c (cse_insn): When looking for first non-deleted entry in
	table, start by scanning backwards from the deleted entry.

	* function.c (assign_parms): Set current_function_return_rtx
	unconditionally.
	(expand_function_start): Don't set it here.

Sat Jan 25 06:44:16 1992  Mark Eichin  (eichin at cygnus.com)

	* cp-decl.c (set_identifier_local_value): New function. Clone of
	set_identifier_type_value, but uses level->shadowed instead. Only
	used in pushdecl, where the non-global install was previously
	setting the local value directly which "stuck" and didn't get
	cleared the next time through.
	(pushdecl): use set_identifier_type_value so that the local value
	actually gets erased when we leave this level. Changed code that
	checks for global_binding_level to recognize that if
	class_binding_level is set, we're not in the global one.
	(poplevel_class): restore shadowed list too, like poplevel does.
	(print_binding_level): added no_print_functions and
	no_print_builtins variables to eliminate clutter while trying to
	debug binding level problems.

Fri Jan 24 18:03:36 1992  Richard Kenner  (kenner at vlsi1.ultra.nyu.edu)

	* tree.c (pop_momentary): Don't reference freed stack entry.

Fri Jan 24 14:20:05 1992  Michael Tiemann  (tiemann at cygnus.com)

	* cp-parse.y (stmt): Call `define_case_label' for default label.
	* cp-decl.c (current_function_return_value): New variable.
	(define_{case_}label): Clear CURRENT_FUNCTION_RETURN_VALUE.
	* cp-typeck.c (c_expand_return): Set CURRENT_FUNCTION_RETURN_VALUE.

	* cp-tree.c (lang_printable_name): Use DECL_RING, and don't free
	the printable name for CURRENT_FUNCTION_DECL.

Fri Jan 24 14:17:30 1992  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* gvarargs.h: If _ANSI_H, undef _VA_LIST_.

	* c-typeck.c (pointer_int_sum): Don't distribute * into pointer diff.

	* hp320.h (MD_STARTFILE_PREFIX): Defined.
	(STANDARD_STARTFILE_PREFIX): Deleted.

Fri Jan 24 09:30:41 1992  Fred Fish  (fnf at fishpond)

	* assert.h (__eprintf):  Declare as prototype for __STDC__

Fri Jan 24 05:28:53 1992  James Van Artsdalen  (james at bigtex.cactus.org)

	* i386.md (jump,indirect_jump,tablejump): Don't output an align
	directive here: let the following BARRIER do it.

Thu Jan 23 11:54:11 1992  Ron Guilmette  (rfg at ncd.com)

	* i486v4.h:  New file.

Thu Jan 23 20:34:22 1992  Jim Wilson  (wilson at wookumz.gnu.ai.mit.edu)

	* fixinc.svr4: Surround uses of ${INPUT} with "" instead of ''
	so that it will get expanded.

Thu Jan 23 17:50:13 1992  Richard Kenner  (kenner at vlsi1.ultra.nyu.edu)

	* cse.c (qty_mode): New variable.
	(reg_rtx): Deleted.
	(hard_regs_in_table, regs_invalidate_by_call): New variables.
	(new_basic_block): Clear hard_regs_in_table.
	(delete_reg_equiv): New name for reg_invalidate; don't update reg_tick.
	(mention_regs): Don't set reg_rtx.
	Update reg_tick for all registers in a multi-register hard register
	reference.
	(insert_regs): Don't do anything special with SUBREG.
	Only insert register in a class if it is the same mode.
	Don't set reg_rtx; set qty_mode instead.
	(insert): Update hard_regs_in_table.
	Get constant equivalence in proper mode.
	(merge_equiv_classes): Call delete_reg_equiv.
	(invalidate): Call delete_reg_equiv and update reg_tick.
	Invalidate all parts of multi-word hard regs and invalidate
	any multi-word hard reg overlapping what we are to invalidate.
	Only look at constant in proper mode.
	(remove_invalid_refs): Use refers_to_regno_p.
	(invalidate_for_call): New function.
	(canon_hash, refers_to_mem_p, fold_rtx, equiv_constant): Look at
	constant in proper mode.
	(cse_rtx_addr_varies_p, cse_process_notes): Likewise.
	(exp_equiv_p): Likewise.
	Check reg_tick for all parts of multi-word hard register.
	(canon_reg): Don't use reg_rtx; get register from regno_reg_rtx or
	build hard reg in proper mode.
	(record_jump_equiv): Split into two pieces.
	(record_jump_cond): Second part of record_jump_equiv; make recursive
	call to some equivalences if args are SUBREGs.
	(cse_insn): Only replace register with equivalent if proper mode;
	don't use reg_rtx.
	Call invalidate_for_call.
	Don't avoid call to gen_lowpart for hard register.
	Make a SUBREG if gen_lowpart_if_possible fails for SUBREG
	assignment.
	(invalidate_from_clobbers): Update reg_tick of SP; invalidate
	REG entry in table, if present; use stack_pointer_rtx.
	(cse_main): Don't allocate reg_rtx.
	Initialize regs_invalidated_by_calls.
	(cse_basic_block): Allocate qty_mode.

	* rs6000.h (ADDITIONAL_REGISTER_NAMES): Add so we can disambiguate
	fixed and floating registers.

	* rs6000.md (ashrdi3): Reject all but constant shift counts.

	* jump.c (simplejump_p): Don't access PATTERN unless we know it is
	a JUMP_INSN.

	* combine.c (get_last_value): Don't do a recursive call for a 
	paradoxical SUBREG.

	* jump.c (jump_optimize): In "if (...) x = a; else x = b;", 
	don't move "x = b;" if it has non-trivial REG_NOTES.  Also, allow
	B to be any constant, not just a CONT_INT.

	* stor-layout.c (layout_type): Handle alignment for arrays the same
	as we do for records and unions.

	* calls.c (expand_call): Ignore `const' on void functions.

	* i860.c: Include recog.c.
	Remove many explicit declaration of vars from include files.
	(i860_compare_op[01]): Define these here.
	* i860.h (i860_compare_op[01]): Add declarations.
	* i860.md (compare, branch): Rework to use define_expand for cmpxx.
	Compare just saves operands in i860_compare_op[01].  Branch emits
	both insns using the saved operands.

	* i860.h (PREFERRED_RELOAD_CLASS): Handle FP registers and constants.
	(SECONDARY_INPUT_RELOAD_CLASS): We need a scratch register to copy
	an integer constant to a floating-point register.
	* i860.md (addsi3, subsi3): Allow use of floating registers.

Thu Jan 23 13:33:40 1992  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* i386v4.h (CPP_PREDEFINES): Don't define X86.

	* c-lex.c (readescape): Warn for \a and \x if warn_traditional.
	Handle \v as vertical tab regardless of -traditional.

	* fixincludes, fixinc.svr4: Make LIB absolute, near the beginning.

	* fixincludes: Simplify egrep command while matching the same lines
	(plus occasional additional lines).

	* function.c (fixup_memory_subreg): New arg UNCRITICAL.  Calls changed.

	* gcc.c (process_command): Handle LPATH like LIBRARY_PATH.

	* svr3.h (ASM_LONG): Deleted.

	* gvarargs.h: Ignore _VA_LIST_ if _ANSI_H_;
	don't define _VA_LIST_ if already defined.

Thu Jan 23 09:10:52 1992  Tom Wood  (wood at dg-rtp.dg.com)

	* m88kluna.h (includes): Include aoutos.h.

Thu Jan 23 09:10:52 1992  Ron Guilmette  (rfg at ncd.com)

	* va-i860.h (__savereg): Fix typo.

	* i860.h (PREDICATE_CODES):  Added definition.

	* i386v4.h (ASM_FILE_START):  Definition added which generates
	.version directive.

Wed Jan 22 23:15:45 1992    (Eric Youngdale at youngdale@v6550c.nrl.navy.mil)

	* make-cc1.com: Predefine symbols for "rename" and "bison"; always
	generate c-parse.h when generating c-parse.c.

Wed Jan 22 20:01:11 1992  Per Bothner  (bothner at cygnus.com)

	* sdbout.c (sdbout_record_type_name):  Use typedef names
	for C++.  (A kludge.)
	* sdbout.c (sdbout_one_type):  Emit base classes as
	dummy fields, just like dbxout.c when not using gdb extensions.

Wed Jan 22 20:01:11 1992  Jim Wilson  (wilson at wookumz.gnu.ai.mit.edu)

	* fixincludes: Surround uses of ${INPUT} with "" instead of ''
	so that it will get expanded.

	* gcc.c (default_compilers): For c++, define __GNUG__ to 2, and
	pass -trigraphs.

	* cccp.1, cpp.1, gcc.1, g++.1: Delete more RCS variables.

Wed Jan 22 19:02:06 1992  Richard Kenner  (kenner at vlsi1.ultra.nyu.edu)

	* combine.c (simplify_shift_const, case ASHIFT): If we will
	be suppressing a sign extension because the upper bits are
	already the same, verify that the operand is in the same
	mode as we will be doing the shift; don't ignore a SUBREG
	inside the inner SHIFT.

Wed Jan 22 09:25:07 1992  Tom Wood  (wood at dg-rtp.dg.com)

	* c-typeck.c (comp_target_types): Make decl static.
	Don't forget to return the value.
	(function_types_compatible_p, comptypes): Initialize `val'.

Tue Jan 21 13:29:50 1992  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* cross-make (ALL): Override with definition it here.
	* configure: Don't edit its value explicitly here.

	* crtstuff.c (__do_global_ctors): Include DO_GLOBAL_CTORS_BODY
	in crtend.o, not in crtbegin.o.

	* svr3.h: Prepare to use with i386.
	(PCC_BITFIELD_TYPE_MATTERS): Definition deleted.
	This pertains to the individual cpu types.
	(ASM_SHORT, ASM_LONG, ASM_DOUBLE): Likewise.
	(DBX_DEBUGGING_INFO): Undef this.
	(DBX_REGISTER_NUMBER): Deleted the #undef.
	(STARTFILE_SPEC, LINK_SPEC, LIB_SPEC): Deleted.
	* i860v3.h (STARTFILE_SPEC, LINK_SPEC, LIB_SPEC): New definitions.

	* att386.h: Coexist with svr3.h.
	(ASM_FILE_START): Deleted.
	(ASM_OUTPUT_COMMON, ASM_OUTPUT_LOCAL): Likewise.
	(ASM_BYTE_OP, NO_DOLLAR_IN_LABEL): Likewise.
	(ASM_OUTPUT_LABELREF): Undef before defining.
	(ASM_FILE_START_1): Undef before defining.
	(EXTRA_SECTION_FUNCTIONS): Deleted.
	(BSS_SECTION_FUNCTION): New macro; defines bss_section.

	* i386v.h, aix386.h: Include svr3.h.
	(SCCS_DIRECTIVE, ASM_OUTPUT_IDENT): Deleted.
	(TARGET_MEM_FUNCTIONS): Deleted.
	(SDB_DEBUGGING_INFO, DBX_DEBUGGING_INFO): Deleted.

	* Support constructors and destructors on svr3.  From james@bigtex.
	* i386v.h, aix386.h (STARTFILE_SPEC): Use crtbegin.o after crt1.o.
	(LIB_SPEC): Use crtend.o before crtn.o.
	(CTORS_SECTION_ASM_OP, ASM_OUTPUT_CONSTRUCTOR): New macros.
	(INIT_SECTION_ASM_OP): Likewise.
	* svr3.h (DTORS_SECTION_ASM_OP): New macros.
	(DO_GLOBAL_CTORS_BODY): New macro.
	(EXTRA_SECTIONS,EXTRA_SECTION_FUNCTIONS): Use .init and .fini
	sections in addition to .bss.
	({INIT,FINI}_SECTION_FUNCTION): New macros for *_section functions.
	({CTORS,DTORS}_SECTION_FUNCTION): Macros deleted.
	(ASM_OUTPUT_CONSTRUCTOR): Deleted.
	(ASM_OUTPUT_DESTRUCTOR): Use ASM_LONG.
	(INT_ASM_OP): Deleted.

	* c-typeck.c (default_conversion): Don't use initial value if BLKmode.
	If do use the initial value, update `type'.

	* arm.h (STRUCTURE_SIZE_BOUNDARY): New definition.

	* stor-layout.c (layout_type): Ignore MAX_FIXED_MODE_SIZE for integers.

	* ultrix.h (SIZE_TYPE): Use `unsigned int'.
	* Makefile.in (install-common): Add missing -f in rm.
	(install-fixincludes): Install the README file.

	* fixincludes: Don't match on size_t, etc., since we don't actually
	change them.

Mon Jan 20 23:22:45 1992  Michael Tiemann  (tiemann at cygnus.com)

	* cp-call.c (ideal_candidate): Don't see two functions as ambiguous
	if one is argument-by-argument equivalent or better than another.

Mon Jan 20 14:08:06 1992  Richard Kenner  (kenner at vlsi1.ultra.nyu.edu)

	* toplev.c (strip_off_ending): Add ".ada".

Mon Jan 20 13:53:15 1992  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* protoize.c (xfree): No longer static.

	* gbl-ctors.h (DO_GLOBAL_CTORS_BODY): Allow tm.h to override.

	* final.c (leaf_renumber_regs_insn): Do just the pattern of an insn.

	* pyr.h (PCC_BITFIELD_TYPE_MATTERS): Defined.
	(STRUCTURE_SIZE_BOUNDARY): Deleted.

	* mips.c: Clean up spacing around square brackets.

	* c-typeck.c (convert_arguments):
	Get rid of feature to convert to a tagless union type.
	(common_type): Add pedantic warning.
	(comptypes, function_types_compatible_p): Return 2 meaning warn.
	(comp_target_types): Do the warning here.
	(type_lists_compatible_p): New function.

Sun Jan 19 17:32:19 1992  Richard Kenner  (kenner at vlsi1.ultra.nyu.edu)

	* reload1.c (emit_reload_insns): Fix typos when checking for secondary
	icode.

Sun Jan 19 15:28:53 1992  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* global-alloc.c (global_alloc): If LEAF_REGISTERS, those are the
	regs that cost nothing to save, for setting regs_already_used.

	* expr.c (expand_builtin): Preserve function value reg
	around the call to __builtin_saveregs.

	* configure (mips-sgi-irix4*, mips-sgi-irix*): Set install_with_cp.

	* c-decl.c (start_function):
	Check properly for `static' function in handling -Wmissing-prototypes.

	* libgcc2.c (__main): Omit this fn if INIT_SECTION_ASM_OP.

Sun Jan 19 13:23:13 1992  Fred Fish  (fnf at sunfish)

	* amix.h (ASM_OUTPUT_ASCII):  Override version in svr4.h.

Sun Jan 19 13:16:56 1992  Michael Tiemann  (tiemann at cygnus.com)

	* cp-search.c (lookup_field): Accept IS_AGGR_TYPE_CODE, not
	just == RECORD_TYPE.

	* cp-class.c (finish_struct): Clear a tentative setting of
	DECL_BIT_FIELD.

	* cp-decl.c (start_decl): Don't call `pushclass' for incomplete
	CONTEXT.

	* cp-typeck.c (comp_target_types): Call `comp_target_parms' with
	STRICT == 0, not -1.
	(build_conditional_expr): Check that the target types of TYPE1 and
	TYPE2 are aggr type before calling `common_base_type'.

Sun Jan 19 04:10:16 1992  James Van Artsdalen  (james at bigtex.cactus.org)

	* configure: Fix typo inserting INSTALL=cp into makefile.

Sat Jan 18 12:06:58 1992  Michael Tiemann  (tiemann at cygnus.com)

	* cp-lex.c (build_with_cleanup): Delete obsolete function.
	* cp-tree.c (break_out_cleanups): New function.
	* cp-decl.c (cplus_expand_expr): Call `break_out_cleanups'.
	* cp-typeck.c (build_compound_expr): Ditto.

	* cp-call.c (convert_harshness): Make any inheritance relationship
	preferable to a void* conversion.
	* cp-tree.h (CLASSTYPE_MAX_DEPTH): New macro.
	* cp-class.c (finish_struct_bits): Set CLASSTYPE_MAX_DEPTH.

	* cp-cvt.c (build_up_reference): Don't return in ARRAY_REF case,
	since we may need to adjust the return value for complex
	inheritance.

	* cp-decl2.c (lang_f_options): Add recognizers for -f{no-}builtin,
	-f{no-}ident, and -ansi.  Also, remove unnecessary "no-*" forms.

	* cp-init.c (emit_base_init): If PEDANTIC, don't let base
	initializers leak up the hierarchy.

	* cp-parse.y (structsp): Disable gratuitous error message.

	* cp-call.c (convert_harshness): Don't overlook PENALTY when
	signed/unsigned differences are noted (in both POINTER_TYPE and
	REFERENCE_TYPE cases).

	* toplev.c (strip_off_ending): Grok ".ii" endings (C++ preprocessed
	files).

	* cp-typeck.c (build_component_ref): Add special handler when
	COMPONENT is the CLASSTYPE_VFIELD name for BASETYPE.

Sat Jan 18 08:29:58 1992  Richard Kenner  (kenner at vlsi1.ultra.nyu.edu)

	* cse.c (cse_insn): Don't make constant pool entries in MODE_CC modes.

Sat Jan 18 00:28:48 1992  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* Makefile.in (install-common): Fix typo installing gcc.
	
	* crds.h, isi.h, newpbb.h, tti68k.h: Add #error because -m68000
	will cause a crash (I think), to ask people what to do.

	* gmicro.h (ASM_FILE_START): Don't do anything.
	(TARGET_DEFAULT): Turn on the bitfield flag.
	(TARGET_SWITCHES): Get rid of the bitfield options.

	* c-lex.c (readescape): No warning for \?.

	* protoize.c (munge_compile_params): Fix cast that sets compile_params.
	(xmalloc, xrealloc): No longer static.
	* Makefile.in (protoize, unprotoize): Add LIBDEPS as deps.

	* va-i860.h (va_arg): Use __extension__ to suppress pedantic warning.
	* va-sparc.h, va-spur.h, va-pyr.h: Likewise.

	* x-irix4.h: New file.
	* config.sub: Don't convert irix to sysv.
	* configure (mips-sgi-irix4*): New configuration.
	(mips-sgi-irix*): Renamed from mips-sgi-sysv*.

	* gcc.c (process_command):
	Handle the standard_exec_prefix* before the md_*_prefix.

	* i386.h, ns32k.h (PCC_BITFIELD_TYPE_MATTERS): Defined.

	* Makefile.in (libgcc1.null): Depend on GCC_PASSES.

	* cccp.c (lookup_import, add_import): VMS kludges so they compile.
	(hack_vms_include_specification): Add forward declaration.

	* stor-layout.c (layout_record): Handle BITFIELD_NBYTES_LIMITED
	just like one of the things done for PCC_BITFIELD_TYPE_MATTERS.

	* x-next, x-i386mach: Deleted.
	* t-libc-ok: New file.  Define just LIBGCC1.
	* configure (i386-*-mach, m68k-next-*): Use t-libc-ok.

	* t-svr4 (FIXINCLUDES): Defined.
	* t-m88kv4 (FIXINCLUDES): Defined.
	* t-svr3 (EXTRA_PARTS): Defined.
	* t-i386sco (EXTRA_PARTS): Defined.

	* configure (sparc-*-sysv4*): New alternative.

	* configure (install_with_cp): New flag an alternative can set.
	If host sets it, add INSTALL=cp to Makefile.
	Set this for any system V, and for m68k-crds-unos.

Sat Jan 18 23:15:08 1992  Ron Guilmette  (rfg at ncd.com)

	* va-i860.h (va_list): Made __reg_base field type long* to avoid
	compilation errors.
	(__savereg): Add explicit cast to (__va_saved_regs *).

Fri Jan 17 15:09:34 1992  James Van Artsdalen  (james at bigtex.cactus.org)

	* i386.h (FUNCTION_BOUNDARY): Do larger alignments for i486.
	(ASM_OUTPUT_ALIGN_CODE): Same here.
	(ASM_OUTPUT_LOOP_ALIGN): But not here - do word aligns as before.

	(enum reg_class): Delete classes ADREG and BREG - neither used nor
	useful.  Add classes FP_TOP_REG and FP_SECOND_REG.
	(REG_CLASS_NAMES): Likewise.
	(REG_CLASS_CONTENTS): Likewise.
	(REGNO_REG_CLASS): Reflect that change.
	(REG_CLASS_FROM_LETTER): Likewise.  Add "t" and "u" constraints.
	(CLASS_MAX_NREGS): New classes use only 1 hard reg for any mode.

	(CONST_OK_LETTER_P): Document uses of letters.

	* reg-stack.c: Add comments describing rules for asm statements
	involving stack-like regs.
	(asm_regs): Delete unused variable.
	(fatal_for_asm): Delete unused function.

	(get_asm_operand_lengths): New function.
	(constrain_asm_operands): New function.  Like constrain_operands,
	but records some information about the matched alternative.

	(record_asm_reg_life): New function.
	(record_reg_life): If INSN is an asm statement, decode operands
	and pass to record_asm_reg_life.
	(record_reg_life_pat): Abort if any asm is seen here.

	(subst_asm_stack_regs): New function.
	(subst_stack_regs): If INSN is an asm statement, decode operands
	and pass to subst_asm_stack_regs.  When handling REG_UNUSED notes,
	emit the pops in the right order.

	(change_stack): New argument to insert any new insns before INSN
	instead of after.  All callers changed.

	(emit_swap_insn): Abort if the reg is not found in REGSTACK.

	* Makefile.in (reg-stack.o): Depends on insn-config.h.

Fri Jan 17 16:38:32 1992  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* toplev.c, flags.h (in_system_header): Declare here.
	* c-lex.c, cp-lex.c (in_system_header): Not here.
	* toplev.c (rest_of_compilation): Don't warn of unused static function
	if definition is in a system header.

	* gcc.c (do_spec_1): Add missing arg in recursive call.
	(link_command_spec): Don't pass -s, -S, -u*, -X, -Y*.

Fri Jan 17 12:51:28 1992  Jim Wilson  (wilson at cygnus.com)

	From Tiemann:
	* rtlanal.c (reg_set_between_p): Call `reg_set_p' with INSN, not the
	body of INSN so that CALL_INSNs are properly handled.
	* explow.c (find_next_ref): Ditto.

	* hp800.h, hp800.md: Delete RCS Header variables.

	* reg-stack.c (replace_reg): Change `abort' to `abort ()'.

Fri Jan 17 14:30:14 1992  Michael Meissner  (meissner at osf.org)

	* caller-save.c (insert_save_restore): Don't pass a CODE_LABEL to
	reg_mentioned_p when the machine has a condition code, since
	CODE_LABEL's don't have the same format as normal INSN's do.

Fri Jan 17 13:24:33 1992  Tom Wood  (wood at dg-rtp.dg.com)

	* Makefile.in (unprotoize.o): Use the rm -f option.

	* cp-lex.c (check_newline): Define `used_up' as in c-lex.c.
	(in_system_header): Define as in c-lex.c.

Fri Jan 17 08:14:04 1992  Richard Kenner  (kenner at vlsi1.ultra.nyu.edu)

	* reorg.c (delete_from_delay_slot): Pass correct length to
	emit_delay_sequence.

	* genattrtab.c (substitute_address): Handle IF_THEN_ELSE in addition
	to COND.

	* expr.c (expand_builtin, case BUILT_IN_STRLEN): Correct args in
	expand_expr call.

Fri Jan 17 17:33:40 1992  James Van Artsdalen  (james@raid)

	* x-i386v4 (CCLIBFLAGS): Delete macro.
	(GCC-CFLAGS): Delete macro.  Prevented Makefile.in from working.

Thu Jan 16 17:03:27 1992  Jim Wilson  (wilson at wookumz.gnu.ai.mit.edu)

	* Makefile.in (cleanconfig): Also delete tconfig.h.

	* varasm.c (assemble_external): Only call ASM_OUTPUT_EXTERNAL once
	for each symbol.
	(assemble_external_libcall): Fix minor typo in spacing.

	* toplev.c (main): Force error if invalid -W option is used.

Thu Jan 16 13:35:13 1992  Tom Wood  (wood at dg-rtp.dg.com)

	* m88kdgux.h (CPP_PREDEFINES): Added __CLASSIFY_TYPE__ back and
	noted when it would be useful.

	* m88k.h (ASM_FILE_END, ASM_OUTPUT_ASCII): Override svr4.h.

Thu Jan 16 12:37:16 1992  Richard Stallman  (rms at mole.gnu.ai.mit.edu)

	* svr4.h (SVR4): Add this back.

	* cccp.c (lookup_import): Use bcmp to compare inodes.

	* cccp.c (main): Handle -idirafter option.

	* m68kv4.h, m88kv4.h, i386v4.h, sparcv4.h, i860v4.h (CPP_PREDEFINES): 
	Add __svr4__ in case user programs want to distinguish.

	* cp-lex.c (check_newline): Changes like Jan 12 changes in c-lex.c.

	* Makefile.in (install-fixincludes): Renamed from `includes'.
	Move comments so some shells are happier.  Dep. on install-headers.

	* m88kdgux.h (CPP_PREDEFINES): Add __svr4__.  Remove __CLASSIFY_TYPE__.
	Add some assertions.

	* c-decl.c (init_decl_processing): Don't give arg type for abort, etc.
	Always declare strlen, etc., so -O doesn't alter the warnings.
	* expr.c (expand_builtin): Open-code str* or mem* or ffs if -O.

	* c-decl.c (start_function): Fix backwards test for -W* options.

	* protoize.c (GUESSPATHLEN): Treat POSIX like USG--and use just 200.

	* cccp.c (deps_output): Break line iff string is empty.
	(do_include): Fix up the deps_output calls.

	* vax.c (print_operand_address): Handle form index + (reg+offset).

	* m88k.h (TARGET_VERSION): Don't use __DATE__.

	* gcc.c (default_compilers): Typos in c++-cpp-output case.

Thu Jan 16 12:25:51 1992  Jim Wilson  (wilson at wookumz.gnu.ai.mit.edu)

	* loop.c (get_condition): In HAVE_cc0 code, generate a zero with
	CONST0_RTX instead of just using const0_rtx.

	* cse.c (cse_isnsn): A CALL_INSN clobbers all fixed regs except
	for ap, fp, and sp.

Thu Jan 16 08:03:40 1992  Tom Wood  (wood at dg-rtp.dg.com)
	
	* c-decl.c (finish_enum): Compute the precision properly if the
	maximum value is negative.

Thu Jan 16 07:40:29 1992  Richard Kenner  (kenner at vlsi1.ultra.nyu.edu)

	* reorg.c (try_merge_delay_insns, fill_slots_from_thread): Have
	update_block put the phantom insn before THREAD.
	(update_block): Update block status if WHERE, not INSN, is block head.

Thu Jan 16 00:28:14 1992  Ron Guilmette  (rfg ay ncd.com)

	* i860.c (output_fp_move_double):  Fixed typo.

	* protoize.c (GUESSPATHLEN, pointer_type, const_pointer_type):
	moved definitions declarations out of conditional region.
	(string_list_cons, shortpath, munge_compile_params):  Added casts.
	(find_extern_def):  Fixed string literal to avoid trigraph.
	(find_rightmost_formals_list):  Fixed to avoid unreached code warnings.

	* svr4.h (ASM_OUTPUT_ASCII):  Fixed typo.

Wed Jan 15 21:58:01 1992  Jeffrey A Law  (law at b117b.super.org)

	* sparc.h (SELECT_RTX_SECTION): When generating PIC, place symbolic
	operands in the data section.

Wed Jan 15 21:45:09 1992  Michael Meissner  (meissner at osf.org)

	* collect2.c (main): Pass any -b<xx>, -B<xx>, -m<xx>, -f<xx>, and
	-V<xx> options to gcc instead of the linker, in order to allow
	target switches that affect the size of pointers and search paths to
	be passed through.
	(main, choose_temp_base): Use TMPDIR environment variable, and the
	P_tmpdir macro if defined to locate directory to put temp files.
	(whole file): Reorganize so that all of the OSF/rose stuff goes at
	the end of the file, rather than being scattered throughout.
	(main, scan_prog_file): Invoke scan_prog_file twice, once on each
	output of ld.
	(scan_prog_file, read_file, write_file):  On the second invocation,
	rewrite the object file in place, adding a load command to put
	__main in the list of initializer functions.  This allows users
	to put constructors and destructors into shared libraries.
	(scan_prog_file): Move debug stuff and error routines to separate
	functions.

Wed Jan 15 17:59:02 1992  Richard Kenner  (kenner at vlsi1.ultra.nyu.edu)

	* combine.c (can_combine_p): Don't combine if DEST is still a field
	assignment after we've tried to expand it.

Wed Jan 15 16:01:13 1992  James Van Artsdalen  (james at bigtex.cactus.org)

	* regclass.c (fix_register): Don't match a null register name.
	* varasm.c (decode_reg_name): Likewise.

	* i386.h (HI_REGISTER_NAMES): Give the eliminable arg pointer a
	null name.

Wed Jan 15 13:40:50 1992  Richard Stallman  (rms at mole.gnu.ai.mit.edu)

	* gcc.c (default_compilers): Pass -lang-asm, not -lang-asmc, to cpp.

	* gcc.c (process_command): Don't dump md_exec_prefix in specs.
	Use the md_... prefixes only if no -b.

Wed Jan 15 13:35:09 1992  Ron Guilmette  (rfg at ncd.com)

	* i386v4.h (RETURN_IN_MEMORY):  Definition added.
	(CPP_PREDEFINES):  Added -DX86 (needed for some system headers).
	(ASM_OUTPUT_DWARF_STRING):  Deleted.
	(ASM_OUTPUT_ASCII):  Added specialized definition for i386/svr4.

	* svr4.h (SVR4):  Deleted useless define.
	(ASM_FILE_END):  Added definition.
	(ESCAPES, STRING_LIMIT, STRING_ASM_OP, ASM_OUTPUT_LIMITED_STRING):
	(ASM_OUTPUT_ASCII):  Generic svr4 definitions added.

	* m68kv4.h (CPP_PREDEFINES):  Don't define SVR4.
	* sparcv4.h (CPP_PREDEFINES):  Don't define SVR4.
	(ASM_OUTPUT_ASCII): Deleted obsolete definition.

	* xm-svr4.h (SVR4):  Removed useless definition.
	(POSIX):  Added definition for protoize.c.

	* i860b.h (ASCII_DATA_ASM_OP, ASM_OUTPUT_ASCII): Moved from i860.h.
	* i860v3.h (ASCII_DATA_ASM_OP):  Added OS-specific definition.
	* i860v4.h (ASCII_DATA_ASM_OP, ASM_OUTPUT_ASCII):
	Deleted (now in svr4.h).

	* fixinc.svr4:  Replaced all occurances of {1,\} in sed command
	string with functional equivalents (to avoid bogus results).

	* c-lex.c (readescape): Pass thru escaped x, a, and v if -traditional.
	(readescape): Pedantic warning for \?, \(, \{, and \[.

	* dwarfout.c: Updated copyright.
	(fundamental_type_code):  Abort for all non-fundamental types.
	(type_is_fundamental):  Return 0 for all non-fundamental types.
	(containing_type_attribute, output_ptr_to_mbr_type_die): New functions.
	(output_pointer_type_die, output_reference_type_die):  Added calls to
	equate_type_number_to_die_number.
	(output_type):  Handle OFFSET_TYPE correctly.
	(output_type):  Ignore LANG_TYPE (for now).

Wed Jan 15 09:30:08 1992  Michael Tiemann  (tiemann at cygnus.com)

	* All cp-* files: Remove calls to `cleanup_after_call'.

	* cp-method.c (fndecl_as_string): Add a missing space when printing
	the return type.

	* cp-typeck.c (build_modify_expr): Treat arrays specially in both
	INIT_EXPR and NOP_EXPR cases.  Also, if we take the address NEWRHS
	when it's not a SAVE_EXPR, build a new NEWRHS using that address. 
	* cp-tree.c (lvalue_p): Handle WITH_CLEANUP_EXPR case.

	* cp-decl.c (grokvardecl): Don't get tripped up by static class
	members of incomplete type.

Wed Jan 15 09:12:51 1992  Jeffrey A. Law  (law at wombat.gnu.ai.mit.edu)

	* m68k.c (legitimize_pic_address): Re-enable code which was
	mistakenly #ifdef'd out.

Wed Jan 15 08:12:18 1992  Richard Kenner  (kenner at vlsi1.ultra.nyu.edu)

	* reload.c (find_reloads): Check for insn not recognized.

	* caller-save.c (reg_{save,restore}_code): New variables.
	(init_caller_save): Set them.
	(insert_save_restore): Just make SET for pattern of insn and set
	code from reg_{save,restore}_code.
	(save_call_clobbered_regs): Put restore insns before JUMP_INSN that
	ends basic block, but after any other insn that ends the block.

	* sdbout.c (sdbout_symbol): Treat (mem (reg SP)) the same
	as (mem (reg FP)).

	* reorg.c (mark_referenced_resources): Fix typo in last change.
	(emit_delay_sequences): Update chain correctly when previous or
	next insn is also a SEQUENCE.

Wed Jan 15 08:10:29 1992  Chris Smith  (cks at bach.convex.com)

	* t-convex: Use collect2 to link.
	* convex.h: remove assembly output defines for old collect2.
	* convex.h: define vprintf and wait macros for pcc mode boot of
	collect2.

	* convex.h (ASM_OUTPUT_DOUBLE_INT): define.

	* convex.h (DEFAULT_GDB_EXTENSIONS): define as 0 until GDB version 4
	port is available.

	* convex.c (ap_reload_needed): Fix comment.

Wed Jan 15 07:08:25 1992  Tom Wood  (wood at dg-rtp.dg.com)

	* m88k.h (CONST_SECTION_FUNCTION): Trivial definition for targets
	not based on svr[34].h (m88k-luna).

	* m88k.h (PREDICATE_CODES): Use it.

	* m88k.md (casesi_enter): Don't use bsr.n with -fno-delayed-branch.
	* m88k.h (ASM_OUTPUT_CASE_END): The lda goes here when bsr is used.

	* m88k.c (legitimize_address): When converting a symbol_ref for
	PIC, add a REG_EQUAL note.

Wed Jan 15 06:22:34 1992  Michael Meissner  (meissner at osf.org)

	* mips.h (MIPS_VERSION): Bump Meissner version # to 8.
	(fcmp_op): Add function declaration.
	(TARGET_FLOAT64): Support for -mfp64 switch to support the R4000 FR
	psw bit, which doubles the number of floating point registers.
	(TARGET_SWITCHES): Likewise.
	(HARD_REGNO_NREGS): Likewise.
	(CLASS_FCMP_OP): New bit for classifing floating point compares.
	(PREDICATE_CODES): Add cmp2_op and fcmp_op support.

	* mips.c (various): Move extern declarations from inside of
	functions to outside all functions.
	(fcmp_op): Match comparison operators for floating point.
	(mips_move_2words): Add -mfp64 support.
	(override_options): Likewise.
	(compute_frame_size): Likewise.
	(override_options): Set up for fcmp_op.
	(gen_conditional_branch): Redo floating point compares/branches, so
	that it is like the rest of the compiler expects -- set cc0 to a
	compare operator, instead of the exact test required, and put the
	smarts in the branch operators to generate both the test and the
	branch.

	* mips.md (cmpdf_eq, cmpdf_lt, cmpdf_le): Delete.
	(cmpsf_eq, cmpsf_lt, cmpsf_le): Delete.
	(cmpdf_internal): New define insn to match FP compares.
	(cmpsf_internal): Likewise.
	(branch_fp_true1, branch_fp_true2): Likewise.
	(branch_fp_false1, branch_fp_false2): Likewise.
	(branch_fp_true, branch_fp_false): New define_insns to match the
	branch part of FP compares.

Wed Jan 15 01:42:39 1992  Jim Wilson  (wilson at wookumz.gnu.ai.mit.edu)

	* unroll.c (copy_loop_body): New parameter copy_notes_from, to
	correct problem with bad debug info generated for preconditioned
	loops.
	(unroll_loops): Fix calls of copy_loop_body to pass new parameter.

Wed Jan 15 01:01:39 1992  Richard Stallman  (rms at mole.gnu.ai.mit.edu)

	* gcc.c (main): Don't use TARGET_VERSION.
	(endfile_spec, switches_need_spaces): New vars, initted from macros.
	(set_spec, process_command): Read and write those vars.
	(do_spec_1, process_command): Use the new vars, not the macros.
	(SWITCHES_NEED_SPACES): New default macro definition.

	* Makefile.in (install-common): Install driver as gcc-$(target).

	* gstddef.h (wchar_t): Check for _T_WCHAR.

	* stmt.c (pushcase, pushcase_range): Return 5 if jump into stack level.
	* c-parse.y, objc-parse.y (stmt): Print error msg for that.
	* cp-parse.y: Likewise.

Tue Jan 14 23:25:37 1992  Ron Guilmette  (rfg at ncd.com)

	* dwarfout.c: Include <string.h> if USG *or* POSIX.
	(TREE_UID): Deleted.
	(current_funcdef_number): Replacement for TREE_UID.
	(dwarfout_file_scope_decl):  Increment
	current_funcdef_number after each funnction definition is processed.
	(pending_sibling_stack_depth): Renamed globally to pending_siblings.
	(pending_sibling_stack_size): Renamed to pending_siblings_allocated.
	(PENDING_SIBLING_STACK_INCREMENT): Renamed PENDING_SIBLINGS_INCREMENT.
	(pending_types_list, pending_types_allocated, pending_types,
	PENDING_TYPES_INCREMENT, fake_containing_scope): New vars/macros.

	* dwarfout.c (total_ft_entries): Renamed to ft_entries_allocated.
	(valid_ft_entries): Renamed to ft_entries.
	(FT_ENTRIES_INCREMENT):  Definition added.
	(lookup_filename):  Expand filename table (when needed)
	by adding FT_ENTRIES_INCREMENT more table elements rather than
	doubling current size.
	(dwarfout_init):  Allocate initial filename table.

	* dwarfout.c (INSN_LABEL_FMT, FUNC_END_LABEL_FMT): Use decimal format.

	* dwarfout.c (member_attribute):  Rewritten for proper C++ support.
	(output_array_type_die, output_set_type_die, output_entry_point_die,
	output_enumeration_type_die, output_global_subroutine_die,
	output_global_variable_die, output_inline_subroutine_die,
	output_local_variable_die, output_member_die, output_pointer_type_die,
	output_reference_type_die, output_string_type_die,
	output_structure_type_die, output_local_subroutine_die,
	output_subroutine_type_die, output_typedef_die, output_union_type_die):
	Added calls to member_attribute (for C++).

	* dwarfout.c (inline_attribute):  Test for TREE_INLINE in here.
	(output_global_subroutine_die, output_local_subroutine_die):
	Don't test for TREE_INLINE here.

	* dwarfout.c (output_formal_types):  Fixed to handle METHOD_TYPE
	nodes and to output all related type DIEs last (for SDB).
	(type_ok_for_scope, output_pending_types_for_scope, pend_type):
	Functions added to support C++.
	(output_type, output_decl):  Added `containing_scope'
	parameter to handle C++ nested types.
	(output_type):  Don't output the type unless it's OK
	for the current DIE chain (i.e. unless it's OK for the current scope).
	(output_type):  Output completed non-global tagged types
	right away even if not finalizing.
	(output_type):  Use correct method to get head of chain
	of C++ function members.
	(output_decl):  Skip first item on chain of DECL_ARGUMENTS
	for a FUNCTION_DECL whose type is a METHOD_TYPE.
	Suppress output of type DIEs for formal parms of a FUNCTION_DECL
	until after all TAG_parameter DIEs have been output (for SDB
	compatability).
	Output DIEs for any LABEL_DECL nodes attached to outermost BLOCK of
	a FUNCTION_DECL.
	Handle LABEL_DECL nodes.

	* dwarfout.c (dwarfout_file_scope_decl):  Un-pend all pending file-
	scope types after each file-scope declaration is output.
	(output_decls_for_scope):  Un-pend all pending local types
	at end of each local scope.

Tue Jan 14 16:40:39 1992  Tim Moore  (moore at fast.cs.utah.edu)

	* calls.c (expand_call): If ARGS_GROW_DOWNWARD, make slot_offset
	negative and set highest_outgoing_arg_in_use to needed + 1.
	(store_one_arg): If ARGS_GROW_DOWNWARD deal with negative slot_offset.

Tue Jan 14 20:01:59 1992  Jim Wilson  (wilson at wookumz.gnu.ai.mit.edu)

	* sparc.h (TARGET_SUN_ASM, TARGET_GNU): Delete support for
	obsolete and undocumented flags -msun-asm and -mgnu.
	* sparc.md: Likewise.

Tue Jan 14 19:36:21 1992  Tim Moore  (moore at fast.cs.utah.edu)

	* xm-hp800.h (hpux8): define.
	* hp800.h (LINK_SPEC): Conditionalize on hpux8.
	(STACK_BOUNDARY): Define for snake.
	(CALL_USED_REGISTERS): Shift register is special.
	(HARD_REGNO_MODE_OK): Don't allow modes smaller that SImode in fp
	registers.
	(reg_class, REG_CLASS_NAMES, REG_CLASS_CONTENTS): Eliminate
	GENERAL_OR_FP_REGS, GENERAL_OR_SNAKE_FP_REGS classes.
	(FUNCTION_ARG): Handle snake fp arguments.
	(ASM_DOUBLE_ARG_DESCRIPTORS): define.
	(ASM_DECLARE_FUNCTION_NAME): Use above macro to get around hpux
	8.0 change.
	* hp800.md (movsi, movdi): Add ! and * to constraints of anonymous
	define-insns to discourage SImode values in fp registers. Don't
	modify the stack pointer when moving between general and fp registers.
	(mulsi): Take out pattern that matches a degenerate multiplication
	by 1; it doesn't seem to be needed and causes problems.
	(sar_sub): Change so that const_int isn't the first argument of
	the comparison.
	* hp800.c (output_fp_move_double): As above, don't modify the
	stack pointer when moving between general and fp registers. 
	(output_block_move): Don't make one CONST_INT rtx and store
	different integer values in it; cons up a "new" one for each value.
	(output_floatsisf2, output_floatsidf2): Fix typos.
	(output_arg_descriptor): Conditionalize for HPUX 8.0.

Tue Jan 14 14:38:09 1992  Michael Tiemann  (tiemann at cygnus.com)

	* cp-typeck.c (build_unary_op): Call readonly_warning_or_error if
	ARG is TREE_READONLY (in addition to the type being TYPE_READONLY).

	* cp-init.c (maybe_adjust_addr_for_delete): If the adjustment needs
	to be done, zero out the storage that held part of the cookie.

Tue Jan 14 13:12:48 1991  Ron Guilmette  (rfg at ncd.com)

	* c-decl.c (poplevel):  Set TYPE_CONTEXT for each tagged type
	except inside function declaration parm list.
	(grokdeclarator):  Set TYPE_CONTEXT for tagged type in decl parm list.
	(pushtag):  Don't set TYPE_CONTEXT for tagged types here.

Tue Jan 14 06:46:37 1992  Richard Kenner  (kenner at vlsi1.ultra.nyu.edu)

	* global-alloc.c (global_alloc): Count multi-word pseudos correctly
	in local_reg_n_refs.
	(find_reg): Evict pseudos that overlap the register we take, not just
	that start with that register.

	* a29k.c (a29k_debug_reg_map): New variable.
	(output_prologue): Initialize it.
	* a29k.h (DBX_REGISTER_NUMBER): Use that map.

	* ultrix.h (WCHAR_TYPE): Make definition be a known type.

	* final.c (final_scan_insn): Call DBR_OUTPUT_SEQEND before we
	clear `final_sequence', so it can call dbr_sequence_length.

	* reload1.c (reload): Clear insn_needs once we know we have
	reloads, instead of always.
	Don't skip processing of reloads for CALL_INSNs when caller-save
	needs a spill register.

	* flow.c (mark_used_regs, case RETURN): Insert missing test for global
	registers.

	* reorg.c (mark_referenced_resources): Mark asm's as volatile
	when appropriate.

	* integrate.h (struct inline_remap): New field const_equiv_map_size.
	* integrate.c (expand_inline_function): Set it; make larger map.
	(subst_constants): Don't reference out-of-range entry in equiv map.
	* unroll.c (unroll_loop): Set const_equiv_map_size.

See ChangeLog.4 for earlier changes.

Local Variables:
mode: indented-text
left-margin: 8
fill-column: 76
version-control: never
End:
